<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.Txp</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pos-Txp.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Pos.Txp.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cryptokami-sl-0.4.4: Cryptokami SL main implementation</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pos.Txp</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Helpers</a></li><li><a href="#g:2">Env</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Txp system reexports.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short">module <a href="Pos-Txp-Core.html">Pos.Txp.Core</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TxpError">TxpError</a> = <a href="#v:TxpInternalError">TxpInternalError</a> !<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a></li><li class="src short"><a href="#v:txpGlobalSettings">txpGlobalSettings</a> :: <a href="Pos-Txp-Settings.html#t:TxpGlobalSettings">TxpGlobalSettings</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ApplyBlocksSettings">ApplyBlocksSettings</a> extra m = <a href="#v:ApplyBlocksSettings">ApplyBlocksSettings</a> {<ul class="subs"><li><a href="#v:absApplySingle">absApplySingle</a> :: <a href="Pos-Txp-Settings.html#t:TxpBlund">TxpBlund</a> -&gt; m ()</li><li><a href="#v:absExtraOperations">absExtraOperations</a> :: extra -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a></li></ul>}</li><li class="src short"><a href="#v:applyBlocksWith">applyBlocksWith</a> :: (<a href="Pos-Txp-Settings.html#t:TxpGlobalApplyMode">TxpGlobalApplyMode</a> m, <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> extra) =&gt; <a href="Pos-Txp.html#t:ApplyBlocksSettings">ApplyBlocksSettings</a> extra (<a href="Pos-Txp.html#t:ToilT">ToilT</a> extra (<a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m)) -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Util-Chrono.html#t:NE">NE</a> <a href="Pos-Txp-Settings.html#t:TxpBlund">TxpBlund</a> -&gt; m <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a></li><li class="src short"><a href="#v:blundToAuxNUndo">blundToAuxNUndo</a> :: <a href="Pos-Txp-Settings.html#t:TxpBlund">TxpBlund</a> -&gt; [(<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>, <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a>)]</li><li class="src short"><a href="#v:genericToilModifierToBatch">genericToilModifierToBatch</a> :: (e -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a>) -&gt; <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> e -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a></li><li class="src short"><a href="#v:runToilAction">runToilAction</a> :: (<a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> e) =&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> e (<a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m) a -&gt; m (a, <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> e)</li><li class="src short"><a href="#v:txProcessTransaction">txProcessTransaction</a> :: TxpLocalWorkMode m =&gt; (<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>) -&gt; m ()</li><li class="src short"><a href="#v:txNormalize">txNormalize</a> :: (<a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> () m) =&gt; m ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadTxpMem">MonadTxpMem</a> ext = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Reader-Class.html#t:MonadReader">MonadReader</a> <a href="Pos-Txp.html#t:TxpHolderTag">TxpHolderTag</a> (<a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> ext)</li><li class="src short"><a href="#v:askTxpMem">askTxpMem</a> :: <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> ext m =&gt; m (<a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> ext)</li><li class="src short"><span class="keyword">data</span> <a href="#t:TxpHolderTag">TxpHolderTag</a></li><li class="src short"><a href="#v:getUtxoModifier">getUtxoModifier</a> :: (<a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; m <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a></li><li class="src short"><a href="#v:getLocalTxsNUndo">getLocalTxsNUndo</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m ([(<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>)], <a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="Pos-Txp-Core.html#t:TxId">TxId</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-List-NonEmpty.html#t:NonEmpty">NonEmpty</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a>))</li><li class="src short"><a href="#v:getMemPool">getMemPool</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m <a href="Pos-Txp.html#t:MemPool">MemPool</a></li><li class="src short"><a href="#v:getLocalTxs">getLocalTxs</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m [(<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>)]</li><li class="src short"><a href="#v:getLocalTxsMap">getLocalTxsMap</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m (<a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="Pos-Txp-Core.html#t:TxId">TxId</a> <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>)</li><li class="src short"><a href="#v:getTxpExtra">getTxpExtra</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m e</li><li class="src short"><a href="#v:modifyTxpLocalData">modifyTxpLocalData</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> ext m) =&gt; (<a href="Pos-Txp.html#t:GenericTxpLocalDataPure">GenericTxpLocalDataPure</a> ext -&gt; (a, <a href="Pos-Txp.html#t:GenericTxpLocalDataPure">GenericTxpLocalDataPure</a> ext)) -&gt; m a</li><li class="src short"><a href="#v:setTxpLocalData">setTxpLocalData</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> ext m) =&gt; <a href="Pos-Txp.html#t:GenericTxpLocalDataPure">GenericTxpLocalDataPure</a> ext -&gt; m ()</li><li class="src short"><a href="#v:clearTxpMemPool">clearTxpMemPool</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> ext m, <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> ext) =&gt; m ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:TxpHolder">TxpHolder</a> ext = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Trans-Ether-Reader.html#t:ReaderT">ReaderT</a> <a href="Pos-Txp.html#t:TxpHolderTag">TxpHolderTag</a> (<a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> ext)</li><li class="src short"><a href="#v:mkTxpLocalData">mkTxpLocalData</a> :: (<a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> e, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> e)</li><li class="src short"><a href="#v:runTxpHolder">runTxpHolder</a> :: <a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> ext -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> ext m a -&gt; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:GenericTxpLocalData">GenericTxpLocalData</a> extra = <a href="#v:TxpLocalData">TxpLocalData</a> {<ul class="subs"><li><a href="#v:txpUtxoModifier">txpUtxoModifier</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a>)</li><li><a href="#v:txpMemPool">txpMemPool</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> <a href="Pos-Txp.html#t:MemPool">MemPool</a>)</li><li><a href="#v:txpUndos">txpUndos</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> <a href="Pos-Txp.html#t:UndoMap">UndoMap</a>)</li><li><a href="#v:txpTip">txpTip</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a>)</li><li><a href="#v:txpExtra">txpExtra</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> extra)</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:GenericTxpLocalDataPure">GenericTxpLocalDataPure</a> extra = (<a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a>, <a href="Pos-Txp.html#t:MemPool">MemPool</a>, <a href="Pos-Txp.html#t:UndoMap">UndoMap</a>, <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a>, extra)</li><li class="src short"><span class="keyword">type</span> <a href="#t:TxpLocalData">TxpLocalData</a> = <a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:TxpLocalDataPure">TxpLocalDataPure</a> = <a href="Pos-Txp.html#t:GenericTxpLocalDataPure">GenericTxpLocalDataPure</a> ()</li><li class="src short"><a href="#v:txListeners">txListeners</a> :: <a href="Pos-WorkMode.html#t:WorkMode">WorkMode</a> ssc m =&gt; m ([<a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Protocol.html#t:ListenerSpec">ListenerSpec</a> m], <a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>)</li><li class="src short"><a href="#v:txStubListeners">txStubListeners</a> :: <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m =&gt; ([<a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Protocol.html#t:ListenerSpec">ListenerSpec</a> m], <a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:TxMsgTag">TxMsgTag</a> = <a href="#v:TxMsgTag">TxMsgTag</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TxMsgContents">TxMsgContents</a> = <a href="#v:TxMsgContents">TxMsgContents</a> {<ul class="subs"><li><a href="#v:dmTx">dmTx</a> :: !<a href="Pos-Txp-Core.html#t:Tx">Tx</a></li><li><a href="#v:dmWitness">dmWitness</a> :: !<a href="Pos-Txp-Core.html#t:TxWitness">TxWitness</a></li><li><a href="#v:dmDistribution">dmDistribution</a> :: !<a href="Pos-Txp-Core.html#t:TxDistribution">TxDistribution</a></li></ul>}</li><li class="src short">module <a href="Pos-Txp-Settings.html">Pos.Txp.Settings</a></li><li class="src short"><span class="keyword">class</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadUtxoRead">MonadUtxoRead</a> m <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">class</span> <a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> m =&gt; <a href="#t:MonadUtxo">MonadUtxo</a> m <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">class</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadBalancesRead">MonadBalancesRead</a> m <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">class</span> <a href="Pos-Txp.html#t:MonadBalancesRead">MonadBalancesRead</a> m =&gt; <a href="#t:MonadBalances">MonadBalances</a> m <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">class</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadToilEnv">MonadToilEnv</a> m <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">class</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadTxPool">MonadTxPool</a> m <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:DBTxp">DBTxp</a> = <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Util-Util.html#t:TaggedTrans">TaggedTrans</a> DBTxpTag <a href="http://hackage.haskell.org/package/comonad-5.0.1/docs/Control-Comonad-Trans-Identity.html#t:IdentityT">IdentityT</a></li><li class="src short"><a href="#v:runDBTxp">runDBTxp</a> :: <a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m a -&gt; m a</li><li class="src short"><span class="keyword">data</span> <a href="#t:ToilVerFailure">ToilVerFailure</a><ul class="subs"><li>= <a href="#v:ToilKnown">ToilKnown</a></li><li>| <a href="#v:ToilTipsMismatch">ToilTipsMismatch</a> { <ul class="subs"><li><a href="#v:ttmOldTip">ttmOldTip</a> :: !<a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a></li><li><a href="#v:ttmNewTip">ttmNewTip</a> :: !<a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a></li></ul> }</li><li>| <a href="#v:ToilOverwhelmed">ToilOverwhelmed</a></li><li>| <a href="#v:ToilNotUnspent">ToilNotUnspent</a> !<a href="Pos-Txp-Core.html#t:TxIn">TxIn</a></li><li>| <a href="#v:ToilOutGTIn">ToilOutGTIn</a> { <ul class="subs"><li><a href="#v:tInputSum">tInputSum</a> :: !<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Prelude.html#t:Integer">Integer</a></li><li><a href="#v:tOutputSum">tOutputSum</a> :: !<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Prelude.html#t:Integer">Integer</a></li></ul> }</li><li>| <a href="#v:ToilInconsistentTxAux">ToilInconsistentTxAux</a> !<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a></li><li>| <a href="#v:ToilInvalidOutputs">ToilInvalidOutputs</a> !<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a></li><li>| <a href="#v:ToilInvalidInputs">ToilInvalidInputs</a> ![<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a>]</li><li>| <a href="#v:ToilTooLargeTx">ToilTooLargeTx</a> { <ul class="subs"><li><a href="#v:ttltSize">ttltSize</a> :: !<a href="http://hackage.haskell.org/package/serokell-util-0.1.5.0/docs/Serokell-Data-Memory-Units.html#t:Byte">Byte</a></li><li><a href="#v:ttltLimit">ttltLimit</a> :: !<a href="http://hackage.haskell.org/package/serokell-util-0.1.5.0/docs/Serokell-Data-Memory-Units.html#t:Byte">Byte</a></li></ul> }</li><li>| <a href="#v:ToilUnknownAttributes">ToilUnknownAttributes</a> !<a href="http://hackage.haskell.org/package/bytestring-0.10.8.1/docs/Data-ByteString.html#t:ByteString">ByteString</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:GlobalToilMode">GlobalToilMode</a> m = (<a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m, <a href="Pos-Txp.html#t:MonadBalances">MonadBalances</a> m, <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> m, <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m)</li><li class="src short"><a href="#v:verifyToil">verifyToil</a> :: (<a href="Pos-Txp.html#t:GlobalToilMode">GlobalToilMode</a> m, <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m) =&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; [<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>] -&gt; m <a href="Pos-Txp-Core.html#t:TxpUndo">TxpUndo</a></li><li class="src short"><a href="#v:applyToil">applyToil</a> :: <a href="Pos-Txp.html#t:GlobalToilMode">GlobalToilMode</a> m =&gt; [(<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>, <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a>)] -&gt; m ()</li><li class="src short"><a href="#v:rollbackToil">rollbackToil</a> :: <a href="Pos-Txp.html#t:GlobalToilMode">GlobalToilMode</a> m =&gt; [(<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>, <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a>)] -&gt; m ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:LocalToilMode">LocalToilMode</a> m = (<a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m, <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> m, <a href="Pos-Txp.html#t:MonadTxPool">MonadTxPool</a> m)</li><li class="src short"><a href="#v:normalizeToil">normalizeToil</a> :: <a href="Pos-Txp.html#t:LocalToilMode">LocalToilMode</a> m =&gt; [(<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>)] -&gt; m ()</li><li class="src short"><a href="#v:processTx">processTx</a> :: (<a href="Pos-Txp.html#t:LocalToilMode">LocalToilMode</a> m, <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m) =&gt; (<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>) -&gt; m <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a></li><li class="src short"><a href="#v:verifyAndApplyTx">verifyAndApplyTx</a> :: (<a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m, <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> m, <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m) =&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; (<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>) -&gt; m <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ToilT">ToilT</a> ext m = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-State-Lazy.html#t:StateT">StateT</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> ext) m</li><li class="src short"><a href="#v:runToilTGlobal">runToilTGlobal</a> :: (<a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> ext, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor.html#t:Functor">Functor</a> m) =&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> ext m a -&gt; m (a, <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> ext)</li><li class="src short"><a href="#v:runToilTLocal">runToilTLocal</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor.html#t:Functor">Functor</a> m =&gt; <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> -&gt; <a href="Pos-Txp.html#t:MemPool">MemPool</a> -&gt; <a href="Pos-Txp.html#t:UndoMap">UndoMap</a> -&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> () m a -&gt; m (a, <a href="Pos-Txp.html#t:ToilModifier">ToilModifier</a>)</li><li class="src short"><a href="#v:execToilTLocal">execToilTLocal</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor.html#t:Functor">Functor</a> m =&gt; <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> -&gt; <a href="Pos-Txp.html#t:MemPool">MemPool</a> -&gt; <a href="Pos-Txp.html#t:UndoMap">UndoMap</a> -&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> () m a -&gt; m <a href="Pos-Txp.html#t:ToilModifier">ToilModifier</a></li><li class="src short"><a href="#v:runToilTLocalExtra">runToilTLocalExtra</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor.html#t:Functor">Functor</a> m =&gt; <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> -&gt; <a href="Pos-Txp.html#t:MemPool">MemPool</a> -&gt; <a href="Pos-Txp.html#t:UndoMap">UndoMap</a> -&gt; extra -&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> extra m a -&gt; m (a, <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extra)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Utxo">Utxo</a> = <a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Map-Lazy.html#t:Map">Map</a> <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a></li><li class="src short"><a href="#v:formatUtxo">formatUtxo</a> :: <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text-Lazy-Builder.html#t:Builder">Builder</a></li><li class="src short"><a href="#v:utxoF">utxoF</a> :: <a href="http://hackage.haskell.org/package/formatting-6.2.4/docs/Formatting-Internal.html#t:Format">Format</a> r (<a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; r)</li><li class="src short"><span class="keyword">data</span> <a href="#t:MemPool">MemPool</a> = <a href="#v:MemPool">MemPool</a> {<ul class="subs"><li><a href="#v:_mpLocalTxs">_mpLocalTxs</a> :: !<a href="Pos-Txp.html#t:TxMap">TxMap</a></li><li><a href="#v:_mpLocalTxsSize">_mpLocalTxsSize</a> :: !<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a></li></ul>}</li><li class="src short"><a href="#v:mpLocalTxs">mpLocalTxs</a> :: <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Pos-Txp.html#t:MemPool">MemPool</a> <a href="Pos-Txp.html#t:TxMap">TxMap</a></li><li class="src short"><a href="#v:mpLocalTxsSize">mpLocalTxsSize</a> :: <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Pos-Txp.html#t:MemPool">MemPool</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:TxMap">TxMap</a> = <a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="Pos-Txp-Core.html#t:TxId">TxId</a> <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:BalancesView">BalancesView</a> = <a href="#v:BalancesView">BalancesView</a> {<ul class="subs"><li><a href="#v:_bvStakes">_bvStakes</a> :: !(<a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>)</li><li><a href="#v:_bvTotal">_bvTotal</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>)</li></ul>}</li><li class="src short"><a href="#v:bvStakes">bvStakes</a> :: <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Pos-Txp.html#t:BalancesView">BalancesView</a> (<a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>)</li><li class="src short"><a href="#v:bvTotal">bvTotal</a> :: <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Pos-Txp.html#t:BalancesView">BalancesView</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:UndoMap">UndoMap</a> = <a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="Pos-Txp-Core.html#t:TxId">TxId</a> <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:UtxoModifier">UtxoModifier</a> = <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Util-Modifier.html#t:MapModifier">MapModifier</a> <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:GenericToilModifier">GenericToilModifier</a> extension = <a href="#v:ToilModifier">ToilModifier</a> {<ul class="subs"><li><a href="#v:_tmUtxo">_tmUtxo</a> :: !<a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a></li><li><a href="#v:_tmBalances">_tmBalances</a> :: !<a href="Pos-Txp.html#t:BalancesView">BalancesView</a></li><li><a href="#v:_tmMemPool">_tmMemPool</a> :: !<a href="Pos-Txp.html#t:MemPool">MemPool</a></li><li><a href="#v:_tmUndos">_tmUndos</a> :: !<a href="Pos-Txp.html#t:UndoMap">UndoMap</a></li><li><a href="#v:_tmExtra">_tmExtra</a> :: !extension</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:ToilModifier">ToilModifier</a> = <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> ()</li><li class="src short"><a href="#v:tmUtxo">tmUtxo</a> :: <span class="keyword">forall</span> extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a></li><li class="src short"><a href="#v:tmBalances">tmBalances</a> :: <span class="keyword">forall</span> extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) <a href="Pos-Txp.html#t:BalancesView">BalancesView</a></li><li class="src short"><a href="#v:tmMemPool">tmMemPool</a> :: <span class="keyword">forall</span> extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) <a href="Pos-Txp.html#t:MemPool">MemPool</a></li><li class="src short"><a href="#v:tmUndos">tmUndos</a> :: <span class="keyword">forall</span> extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) <a href="Pos-Txp.html#t:UndoMap">UndoMap</a></li><li class="src short"><a href="#v:tmExtra">tmExtra</a> :: <span class="keyword">forall</span> extension extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens">Lens</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) extension extension</li><li class="src short"><span class="keyword">data</span> <a href="#t:ToilEnv">ToilEnv</a> = <a href="#v:ToilEnv">ToilEnv</a> {<ul class="subs"><li><a href="#v:teMaxTxSize">teMaxTxSize</a> :: !<a href="http://hackage.haskell.org/package/serokell-util-0.1.5.0/docs/Serokell-Data-Memory-Units.html#t:Byte">Byte</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:VTxContext">VTxContext</a> = <a href="#v:VTxContext">VTxContext</a> {<ul class="subs"><li><a href="#v:vtcVerifyAllIsKnown">vtcVerifyAllIsKnown</a> :: !<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a></li></ul>}</li><li class="src short"><a href="#v:verifyTxUtxo">verifyTxUtxo</a> :: (<a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> m, <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m) =&gt; <a href="Pos-Txp.html#t:VTxContext">VTxContext</a> -&gt; <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a> -&gt; m <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a></li><li class="src short"><a href="#v:applyTxToUtxo">applyTxToUtxo</a> :: <a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m =&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Crypto-Hashing.html#t:WithHash">WithHash</a> <a href="Pos-Txp-Core.html#t:Tx">Tx</a> -&gt; <a href="Pos-Txp-Core.html#t:TxDistribution">TxDistribution</a> -&gt; m ()</li><li class="src short"><a href="#v:rollbackTxUtxo">rollbackTxUtxo</a> :: <a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m =&gt; (<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>, <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a>) -&gt; m ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:UtxoReaderT">UtxoReaderT</a> = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-Reader.html#t:ReaderT">ReaderT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a></li><li class="src short"><a href="#v:runUtxoReaderT">runUtxoReaderT</a> :: <a href="Pos-Txp.html#t:UtxoReaderT">UtxoReaderT</a> m a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; m a</li><li class="src short"><span class="keyword">type</span> <a href="#t:UtxoReader">UtxoReader</a> = <a href="Pos-Txp.html#t:UtxoReaderT">UtxoReaderT</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor-Identity.html#t:Identity">Identity</a></li><li class="src short"><a href="#v:runUtxoReader">runUtxoReader</a> :: <a href="Pos-Txp.html#t:UtxoReader">UtxoReader</a> a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; a</li><li class="src short"><span class="keyword">type</span> <a href="#t:UtxoStateT">UtxoStateT</a> = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-State-Lazy.html#t:StateT">StateT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a></li><li class="src short"><a href="#v:runUtxoStateT">runUtxoStateT</a> :: <a href="Pos-Txp.html#t:UtxoStateT">UtxoStateT</a> m a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; m (a, <a href="Pos-Txp.html#t:Utxo">Utxo</a>)</li><li class="src short"><a href="#v:evalUtxoStateT">evalUtxoStateT</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Pos-Txp.html#t:UtxoStateT">UtxoStateT</a> m a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; m a</li><li class="src short"><a href="#v:execUtxoStateT">execUtxoStateT</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Pos-Txp.html#t:UtxoStateT">UtxoStateT</a> m a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; m <a href="Pos-Txp.html#t:Utxo">Utxo</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:UtxoState">UtxoState</a> = <a href="Pos-Txp.html#t:UtxoStateT">UtxoStateT</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor-Identity.html#t:Identity">Identity</a></li><li class="src short"><a href="#v:runUtxoState">runUtxoState</a> :: <a href="Pos-Txp.html#t:UtxoState">UtxoState</a> a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; (a, <a href="Pos-Txp.html#t:Utxo">Utxo</a>)</li><li class="src short"><a href="#v:evalUtxoState">evalUtxoState</a> :: <a href="Pos-Txp.html#t:UtxoState">UtxoState</a> a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; a</li><li class="src short"><a href="#v:execUtxoState">execUtxoState</a> :: <a href="Pos-Txp.html#t:UtxoState">UtxoState</a> a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a></li><li class="src short"><a href="#v:applyTxToUtxoPure">applyTxToUtxoPure</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Crypto-Hashing.html#t:WithHash">WithHash</a> <a href="Pos-Txp-Core.html#t:Tx">Tx</a> -&gt; <a href="Pos-Txp-Core.html#t:TxDistribution">TxDistribution</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a></li><li class="src short"><a href="#v:verifyTxUtxoPure">verifyTxUtxoPure</a> :: <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m =&gt; <a href="Pos-Txp.html#t:VTxContext">VTxContext</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a> -&gt; m <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a></li><li class="src short"><a href="#v:filterUtxoByAddr">filterUtxoByAddr</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Address">Address</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a></li><li class="src short"><a href="#v:utxoToStakes">utxoToStakes</a> :: <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src">module <a href="Pos-Txp-Core.html">Pos.Txp.Core</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TxpError" class="def">TxpError</a> <a href="src/Pos.Txp.Error.html#TxpError" class="link">Source</a> <a href="#t:TxpError" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TxpInternalError" class="def">TxpInternalError</a> !<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a></td><td class="doc"><p>Something bad happened inside Txp</p></td></tr></table></div><div class="subs instances"><p id="control.i:TxpError" class="caption collapser" onclick="toggleSection('i:TxpError')">Instances</p><div id="section.i:TxpError" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxpError:Show:1" class="instance expander" onclick="toggleSection('i:id:TxpError:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:Show">Show</a> <a href="Pos-Txp.html#t:TxpError">TxpError</a></span> <a href="src/Pos.Txp.Error.html#line-18" class="link">Source</a> <a href="#t:TxpError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxpError:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Txp.html#t:TxpError">TxpError</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Txp.html#t:TxpError">TxpError</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Txp.html#t:TxpError">TxpError</a>] -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxpError:Exception:2" class="instance expander" onclick="toggleSection('i:id:TxpError:Exception:2')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Pos-Txp.html#t:TxpError">TxpError</a></span> <a href="src/Pos.Txp.Error.html#line-20" class="link">Source</a> <a href="#t:TxpError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxpError:Exception:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Pos-Txp.html#t:TxpError">TxpError</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Exception-Base.html#t:SomeException">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Exception-Base.html#t:SomeException">SomeException</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Txp.html#t:TxpError">TxpError</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Pos-Txp.html#t:TxpError">TxpError</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-String.html#t:String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxpError:Buildable:3" class="instance expander" onclick="toggleSection('i:id:TxpError:Buildable:3')"></span> <a href="http://hackage.haskell.org/package/formatting-6.2.4/docs/Formatting-Formatters.html#t:Buildable">Buildable</a> <a href="Pos-Txp.html#t:TxpError">TxpError</a></span> <a href="src/Pos.Txp.Error.html#line-25" class="link">Source</a> <a href="#t:TxpError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxpError:Buildable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Pos-Txp.html#t:TxpError">TxpError</a> -&gt; <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text-Lazy-Builder.html#t:Builder">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:txpGlobalSettings" class="def">txpGlobalSettings</a> :: <a href="Pos-Txp-Settings.html#t:TxpGlobalSettings">TxpGlobalSettings</a> <a href="src/Pos.Txp.Logic.Global.html#txpGlobalSettings" class="link">Source</a> <a href="#v:txpGlobalSettings" class="selflink">#</a></p><div class="doc"><p>Settings used for global transactions data processing used by a
 simple full node.</p></div></div><h1 id="g:1">Helpers</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ApplyBlocksSettings" class="def">ApplyBlocksSettings</a> extra m <a href="src/Pos.Txp.Logic.Global.html#ApplyBlocksSettings" class="link">Source</a> <a href="#t:ApplyBlocksSettings" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ApplyBlocksSettings" class="def">ApplyBlocksSettings</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:absApplySingle" class="def">absApplySingle</a> :: <a href="Pos-Txp-Settings.html#t:TxpBlund">TxpBlund</a> -&gt; m ()</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:absExtraOperations" class="def">absExtraOperations</a> :: extra -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:applyBlocksWith" class="def">applyBlocksWith</a> :: (<a href="Pos-Txp-Settings.html#t:TxpGlobalApplyMode">TxpGlobalApplyMode</a> m, <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> extra) =&gt; <a href="Pos-Txp.html#t:ApplyBlocksSettings">ApplyBlocksSettings</a> extra (<a href="Pos-Txp.html#t:ToilT">ToilT</a> extra (<a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m)) -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Util-Chrono.html#t:OldestFirst">OldestFirst</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Util-Chrono.html#t:NE">NE</a> <a href="Pos-Txp-Settings.html#t:TxpBlund">TxpBlund</a> -&gt; m <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a> <a href="src/Pos.Txp.Logic.Global.html#applyBlocksWith" class="link">Source</a> <a href="#v:applyBlocksWith" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:blundToAuxNUndo" class="def">blundToAuxNUndo</a> :: <a href="Pos-Txp-Settings.html#t:TxpBlund">TxpBlund</a> -&gt; [(<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>, <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a>)] <a href="src/Pos.Txp.Logic.Global.html#blundToAuxNUndo" class="link">Source</a> <a href="#v:blundToAuxNUndo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genericToilModifierToBatch" class="def">genericToilModifierToBatch</a> :: (e -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a>) -&gt; <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> e -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Functions.html#t:SomeBatchOp">SomeBatchOp</a> <a href="src/Pos.Txp.Logic.Global.html#genericToilModifierToBatch" class="link">Source</a> <a href="#v:genericToilModifierToBatch" class="selflink">#</a></p><div class="doc"><p>Convert <code><a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a></code> to batch of database operations.</p></div></div><div class="top"><p class="src"><a id="v:runToilAction" class="def">runToilAction</a> :: (<a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> e) =&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> e (<a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m) a -&gt; m (a, <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> e) <a href="src/Pos.Txp.Logic.Global.html#runToilAction" class="link">Source</a> <a href="#v:runToilAction" class="selflink">#</a></p><div class="doc"><p>Run action which requires toil interfaces.</p></div></div><div class="top"><p class="src"><a id="v:txProcessTransaction" class="def">txProcessTransaction</a> :: TxpLocalWorkMode m =&gt; (<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>) -&gt; m () <a href="src/Pos.Txp.Logic.Local.html#txProcessTransaction" class="link">Source</a> <a href="#v:txProcessTransaction" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:txNormalize" class="def">txNormalize</a> :: (<a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> () m) =&gt; m () <a href="src/Pos.Txp.Logic.Local.html#txNormalize" class="link">Source</a> <a href="#v:txNormalize" class="selflink">#</a></p><div class="doc"><ol><li>Recompute UtxoView by current MemPool
 | 2. Remove invalid transactions from MemPool
 | 3. Set new tip to txp local data</li></ol></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MonadTxpMem" class="def">MonadTxpMem</a> ext = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Reader-Class.html#t:MonadReader">MonadReader</a> <a href="Pos-Txp.html#t:TxpHolderTag">TxpHolderTag</a> (<a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> ext) <a href="src/Pos.Txp.MemState.Class.html#MonadTxpMem" class="link">Source</a> <a href="#t:MonadTxpMem" class="selflink">#</a></p><div class="doc"><p>Reduced equivalent of <code>MonadReader (GenericTxpLocalData mw) m</code>.</p></div></div><div class="top"><p class="src"><a id="v:askTxpMem" class="def">askTxpMem</a> :: <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> ext m =&gt; m (<a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> ext) <a href="src/Pos.Txp.MemState.Class.html#askTxpMem" class="link">Source</a> <a href="#v:askTxpMem" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TxpHolderTag" class="def">TxpHolderTag</a> <a href="src/Pos.Txp.MemState.Class.html#TxpHolderTag" class="link">Source</a> <a href="#t:TxpHolderTag" class="selflink">#</a></p><div class="subs instances"><p id="control.i:TxpHolderTag" class="caption collapser" onclick="toggleSection('i:TxpHolderTag')">Instances</p><div id="section.i:TxpHolderTag" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxpHolderTag:MonadBlockchainInfo:1" class="instance expander" onclick="toggleSection('i:id:TxpHolderTag:MonadBlockchainInfo:1')"></span> <a href="Pos-Ssc-Class.html#t:SscHelpersClass">SscHelpersClass</a> ssc =&gt; <a href="Pos-Wallet.html#t:MonadBlockchainInfo">MonadBlockchainInfo</a> (<a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc)</span> <a href="src/Pos.Wallet.WalletMode.html#line-130" class="link">Source</a> <a href="#t:MonadBlockchainInfo" class="selflink">#</a></td><td class="doc"><p>Instance for full-node's ContextHolder</p></td></tr><tr><td colspan="2"><div id="section.i:id:TxpHolderTag:MonadBlockchainInfo:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:networkChainDifficulty">networkChainDifficulty</a> :: <a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>) <a href="src/Pos.Wallet.WalletMode.html#networkChainDifficulty" class="link">Source</a> <a href="#v:networkChainDifficulty" class="selflink">#</a></p><p class="src"><a href="#v:localChainDifficulty">localChainDifficulty</a> :: <a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a> <a href="src/Pos.Wallet.WalletMode.html#localChainDifficulty" class="link">Source</a> <a href="#v:localChainDifficulty" class="selflink">#</a></p><p class="src"><a href="#v:blockchainSlotDuration">blockchainSlotDuration</a> :: <a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc <a href="http://hackage.haskell.org/package/time-units-1.0.0/docs/Data-Time-Units.html#t:Millisecond">Millisecond</a> <a href="src/Pos.Wallet.WalletMode.html#blockchainSlotDuration" class="link">Source</a> <a href="#v:blockchainSlotDuration" class="selflink">#</a></p><p class="src"><a href="#v:connectedPeers">connectedPeers</a> :: <a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Word.html#t:Word">Word</a> <a href="src/Pos.Wallet.WalletMode.html#connectedPeers" class="link">Source</a> <a href="#v:connectedPeers" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxpHolderTag:MonadBalances:2" class="instance expander" onclick="toggleSection('i:id:TxpHolderTag:MonadBalances:2')"></span> (<a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="http://hackage.haskell.org/package/exceptions-0.8.3/docs/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m) =&gt; <a href="Pos-Client-Txp-Balances.html#t:MonadBalances">MonadBalances</a> (<a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> __ m)</span> <a href="src/Pos.Client.Txp.Balances.html#line-50" class="link">Source</a> <a href="#t:MonadBalances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxpHolderTag:MonadBalances:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getOwnUtxo">getOwnUtxo</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Address">Address</a> -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> __ m <a href="Pos-Txp.html#t:Utxo">Utxo</a> <a href="src/Pos.Client.Txp.Balances.html#getOwnUtxo" class="link">Source</a> <a href="#v:getOwnUtxo" class="selflink">#</a></p><p class="src"><a href="#v:getBalance">getBalance</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Address">Address</a> -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> __ m <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> <a href="src/Pos.Client.Txp.Balances.html#getBalance" class="link">Source</a> <a href="#v:getBalance" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxpHolderTag:MonadTxHistory:3" class="instance expander" onclick="toggleSection('i:id:TxpHolderTag:MonadTxHistory:3')"></span> (<a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="http://hackage.haskell.org/package/exceptions-0.8.3/docs/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m, <a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Slotting-Class.html#t:MonadSlots">MonadSlots</a> m, <a href="Pos-Context.html#t:WithNodeContext">WithNodeContext</a> s m) =&gt; <a href="Pos-Client-Txp-History.html#t:MonadTxHistory">MonadTxHistory</a> (<a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> <a href="Pos-WorkMode.html#t:TxpExtra_TMP">TxpExtra_TMP</a> m)</span> <a href="src/Pos.Client.Txp.History.html#line-185" class="link">Source</a> <a href="#t:MonadTxHistory" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxpHolderTag:MonadTxHistory:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getTxHistory">getTxHistory</a> :: <a href="Pos-Ssc-Class.html#t:SscHelpersClass">SscHelpersClass</a> ssc =&gt; <a href="http://hackage.haskell.org/package/tagged-0.8.5/docs/Data-Tagged.html#t:Tagged">Tagged</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Kind.html#t:-42-">*</a> ssc (<a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Address">Address</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a>, <a href="Pos-Txp.html#t:Utxo">Utxo</a>) -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> <a href="Pos-WorkMode.html#t:TxpExtra_TMP">TxpExtra_TMP</a> m <a href="Pos-Client-Txp-History.html#t:TxHistoryAnswer">TxHistoryAnswer</a>) <a href="src/Pos.Client.Txp.History.html#getTxHistory" class="link">Source</a> <a href="#v:getTxHistory" class="selflink">#</a></p><p class="src"><a href="#v:saveTx">saveTx</a> :: (<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>) -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> <a href="Pos-WorkMode.html#t:TxpExtra_TMP">TxpExtra_TMP</a> m () <a href="src/Pos.Client.Txp.History.html#saveTx" class="link">Source</a> <a href="#v:saveTx" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:getUtxoModifier" class="def">getUtxoModifier</a> :: (<a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; m <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> <a href="src/Pos.Txp.MemState.Class.html#getUtxoModifier" class="link">Source</a> <a href="#v:getUtxoModifier" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getLocalTxsNUndo" class="def">getLocalTxsNUndo</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m ([(<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>)], <a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="Pos-Txp-Core.html#t:TxId">TxId</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-List-NonEmpty.html#t:NonEmpty">NonEmpty</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a>)) <a href="src/Pos.Txp.MemState.Class.html#getLocalTxsNUndo" class="link">Source</a> <a href="#v:getLocalTxsNUndo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getMemPool" class="def">getMemPool</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m <a href="Pos-Txp.html#t:MemPool">MemPool</a> <a href="src/Pos.Txp.MemState.Class.html#getMemPool" class="link">Source</a> <a href="#v:getMemPool" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getLocalTxs" class="def">getLocalTxs</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m [(<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>)] <a href="src/Pos.Txp.MemState.Class.html#getLocalTxs" class="link">Source</a> <a href="#v:getLocalTxs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getLocalTxsMap" class="def">getLocalTxsMap</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m (<a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="Pos-Txp-Core.html#t:TxId">TxId</a> <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>) <a href="src/Pos.Txp.MemState.Class.html#getLocalTxsMap" class="link">Source</a> <a href="#v:getLocalTxsMap" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTxpExtra" class="def">getTxpExtra</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> e m) =&gt; m e <a href="src/Pos.Txp.MemState.Class.html#getTxpExtra" class="link">Source</a> <a href="#v:getTxpExtra" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifyTxpLocalData" class="def">modifyTxpLocalData</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> ext m) =&gt; (<a href="Pos-Txp.html#t:GenericTxpLocalDataPure">GenericTxpLocalDataPure</a> ext -&gt; (a, <a href="Pos-Txp.html#t:GenericTxpLocalDataPure">GenericTxpLocalDataPure</a> ext)) -&gt; m a <a href="src/Pos.Txp.MemState.Class.html#modifyTxpLocalData" class="link">Source</a> <a href="#v:modifyTxpLocalData" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setTxpLocalData" class="def">setTxpLocalData</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> ext m) =&gt; <a href="Pos-Txp.html#t:GenericTxpLocalDataPure">GenericTxpLocalDataPure</a> ext -&gt; m () <a href="src/Pos.Txp.MemState.Class.html#setTxpLocalData" class="link">Source</a> <a href="#v:setTxpLocalData" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:clearTxpMemPool" class="def">clearTxpMemPool</a> :: (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Pos-Txp.html#t:MonadTxpMem">MonadTxpMem</a> ext m, <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> ext) =&gt; m () <a href="src/Pos.Txp.MemState.Class.html#clearTxpMemPool" class="link">Source</a> <a href="#v:clearTxpMemPool" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TxpHolder" class="def">TxpHolder</a> ext = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Trans-Ether-Reader.html#t:ReaderT">ReaderT</a> <a href="Pos-Txp.html#t:TxpHolderTag">TxpHolderTag</a> (<a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> ext) <a href="src/Pos.Txp.MemState.Holder.html#TxpHolder" class="link">Source</a> <a href="#t:TxpHolder" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkTxpLocalData" class="def">mkTxpLocalData</a> :: (<a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> e, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a> -&gt; m (<a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> e) <a href="src/Pos.Txp.MemState.Holder.html#mkTxpLocalData" class="link">Source</a> <a href="#v:mkTxpLocalData" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runTxpHolder" class="def">runTxpHolder</a> :: <a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> ext -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> ext m a -&gt; m a <a href="src/Pos.Txp.MemState.Holder.html#runTxpHolder" class="link">Source</a> <a href="#v:runTxpHolder" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GenericTxpLocalData" class="def">GenericTxpLocalData</a> extra <a href="src/Pos.Txp.MemState.Types.html#GenericTxpLocalData" class="link">Source</a> <a href="#t:GenericTxpLocalData" class="selflink">#</a></p><div class="doc"><p>LocalData of transactions processing.
 There are two invariants which must hold for local data
 (where um is UtxoModifier, memPool is MemPool and tip is HeaderHash):
 1. Suppose <code>blks</code> is sequence of blocks from the very beginning up
 to <code>tip</code>. If one applies <code>blks</code> to genesis Utxo, resulting Utxo
 (let's call it <code>utxo1</code>) will be such that all transactions from
 <code>memPool</code> are valid with respect to it.
 2. If one applies all transactions from <code>memPool</code> to <code>utxo1</code>,
 resulting Utxo will be equivalent to <code>um</code> with respect to
 MonadUtxo.</p><p>Memory state of Txp. Generic version.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TxpLocalData" class="def">TxpLocalData</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:txpUtxoModifier" class="def">txpUtxoModifier</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:txpMemPool" class="def">txpMemPool</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> <a href="Pos-Txp.html#t:MemPool">MemPool</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:txpUndos" class="def">txpUndos</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> <a href="Pos-Txp.html#t:UndoMap">UndoMap</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:txpTip" class="def">txpTip</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:txpExtra" class="def">txpExtra</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Conc.html#t:TVar">TVar</a> extra)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:GenericTxpLocalData" class="caption collapser" onclick="toggleSection('i:GenericTxpLocalData')">Instances</p><div id="section.i:GenericTxpLocalData" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:GenericTxpLocalData:MonadBlockchainInfo:1" class="instance expander" onclick="toggleSection('i:id:GenericTxpLocalData:MonadBlockchainInfo:1')"></span> <a href="Pos-Ssc-Class.html#t:SscHelpersClass">SscHelpersClass</a> ssc =&gt; <a href="Pos-Wallet.html#t:MonadBlockchainInfo">MonadBlockchainInfo</a> (<a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc)</span> <a href="src/Pos.Wallet.WalletMode.html#line-130" class="link">Source</a> <a href="#t:MonadBlockchainInfo" class="selflink">#</a></td><td class="doc"><p>Instance for full-node's ContextHolder</p></td></tr><tr><td colspan="2"><div id="section.i:id:GenericTxpLocalData:MonadBlockchainInfo:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:networkChainDifficulty">networkChainDifficulty</a> :: <a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a>) <a href="src/Pos.Wallet.WalletMode.html#networkChainDifficulty" class="link">Source</a> <a href="#v:networkChainDifficulty" class="selflink">#</a></p><p class="src"><a href="#v:localChainDifficulty">localChainDifficulty</a> :: <a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:ChainDifficulty">ChainDifficulty</a> <a href="src/Pos.Wallet.WalletMode.html#localChainDifficulty" class="link">Source</a> <a href="#v:localChainDifficulty" class="selflink">#</a></p><p class="src"><a href="#v:blockchainSlotDuration">blockchainSlotDuration</a> :: <a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc <a href="http://hackage.haskell.org/package/time-units-1.0.0/docs/Data-Time-Units.html#t:Millisecond">Millisecond</a> <a href="src/Pos.Wallet.WalletMode.html#blockchainSlotDuration" class="link">Source</a> <a href="#v:blockchainSlotDuration" class="selflink">#</a></p><p class="src"><a href="#v:connectedPeers">connectedPeers</a> :: <a href="Pos-WorkMode.html#t:RawRealMode">RawRealMode</a> ssc <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Word.html#t:Word">Word</a> <a href="src/Pos.Wallet.WalletMode.html#connectedPeers" class="link">Source</a> <a href="#v:connectedPeers" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:GenericTxpLocalData:MonadBalances:2" class="instance expander" onclick="toggleSection('i:id:GenericTxpLocalData:MonadBalances:2')"></span> (<a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="http://hackage.haskell.org/package/exceptions-0.8.3/docs/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m) =&gt; <a href="Pos-Client-Txp-Balances.html#t:MonadBalances">MonadBalances</a> (<a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> __ m)</span> <a href="src/Pos.Client.Txp.Balances.html#line-50" class="link">Source</a> <a href="#t:MonadBalances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:GenericTxpLocalData:MonadBalances:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getOwnUtxo">getOwnUtxo</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Address">Address</a> -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> __ m <a href="Pos-Txp.html#t:Utxo">Utxo</a> <a href="src/Pos.Client.Txp.Balances.html#getOwnUtxo" class="link">Source</a> <a href="#v:getOwnUtxo" class="selflink">#</a></p><p class="src"><a href="#v:getBalance">getBalance</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Address">Address</a> -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> __ m <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> <a href="src/Pos.Client.Txp.Balances.html#getBalance" class="link">Source</a> <a href="#v:getBalance" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:GenericTxpLocalData:MonadTxHistory:3" class="instance expander" onclick="toggleSection('i:id:GenericTxpLocalData:MonadTxHistory:3')"></span> (<a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m, <a href="http://hackage.haskell.org/package/exceptions-0.8.3/docs/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m, <a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Slotting-Class.html#t:MonadSlots">MonadSlots</a> m, <a href="Pos-Context.html#t:WithNodeContext">WithNodeContext</a> s m) =&gt; <a href="Pos-Client-Txp-History.html#t:MonadTxHistory">MonadTxHistory</a> (<a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> <a href="Pos-WorkMode.html#t:TxpExtra_TMP">TxpExtra_TMP</a> m)</span> <a href="src/Pos.Client.Txp.History.html#line-185" class="link">Source</a> <a href="#t:MonadTxHistory" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:GenericTxpLocalData:MonadTxHistory:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getTxHistory">getTxHistory</a> :: <a href="Pos-Ssc-Class.html#t:SscHelpersClass">SscHelpersClass</a> ssc =&gt; <a href="http://hackage.haskell.org/package/tagged-0.8.5/docs/Data-Tagged.html#t:Tagged">Tagged</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Kind.html#t:-42-">*</a> ssc (<a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Address">Address</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a>, <a href="Pos-Txp.html#t:Utxo">Utxo</a>) -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> <a href="Pos-WorkMode.html#t:TxpExtra_TMP">TxpExtra_TMP</a> m <a href="Pos-Client-Txp-History.html#t:TxHistoryAnswer">TxHistoryAnswer</a>) <a href="src/Pos.Client.Txp.History.html#getTxHistory" class="link">Source</a> <a href="#v:getTxHistory" class="selflink">#</a></p><p class="src"><a href="#v:saveTx">saveTx</a> :: (<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>) -&gt; <a href="Pos-Txp.html#t:TxpHolder">TxpHolder</a> <a href="Pos-WorkMode.html#t:TxpExtra_TMP">TxpExtra_TMP</a> m () <a href="src/Pos.Client.Txp.History.html#saveTx" class="link">Source</a> <a href="#v:saveTx" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:GenericTxpLocalDataPure" class="def">GenericTxpLocalDataPure</a> extra = (<a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a>, <a href="Pos-Txp.html#t:MemPool">MemPool</a>, <a href="Pos-Txp.html#t:UndoMap">UndoMap</a>, <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a>, extra) <a href="src/Pos.Txp.MemState.Types.html#GenericTxpLocalDataPure" class="link">Source</a> <a href="#t:GenericTxpLocalDataPure" class="selflink">#</a></p><div class="doc"><p>Pure version of GenericTxpLocalData.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TxpLocalData" class="def">TxpLocalData</a> = <a href="Pos-Txp.html#t:GenericTxpLocalData">GenericTxpLocalData</a> () <a href="src/Pos.Txp.MemState.Types.html#TxpLocalData" class="link">Source</a> <a href="#t:TxpLocalData" class="selflink">#</a></p><div class="doc"><p>Memory state of Txp. This version is used by actual Txp implementation.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TxpLocalDataPure" class="def">TxpLocalDataPure</a> = <a href="Pos-Txp.html#t:GenericTxpLocalDataPure">GenericTxpLocalDataPure</a> () <a href="src/Pos.Txp.MemState.Types.html#TxpLocalDataPure" class="link">Source</a> <a href="#t:TxpLocalDataPure" class="selflink">#</a></p><div class="doc"><p>Pure version of TxpLocalData.</p></div></div><div class="top"><p class="src"><a id="v:txListeners" class="def">txListeners</a> :: <a href="Pos-WorkMode.html#t:WorkMode">WorkMode</a> ssc m =&gt; m ([<a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Protocol.html#t:ListenerSpec">ListenerSpec</a> m], <a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>) <a href="src/Pos.Txp.Network.Listeners.html#txListeners" class="link">Source</a> <a href="#v:txListeners" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:txStubListeners" class="def">txStubListeners</a> :: <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m =&gt; ([<a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Protocol.html#t:ListenerSpec">ListenerSpec</a> m], <a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Protocol.html#t:OutSpecs">OutSpecs</a>) <a href="src/Pos.Txp.Network.Listeners.html#txStubListeners" class="link">Source</a> <a href="#v:txStubListeners" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TxMsgTag" class="def">TxMsgTag</a> <a href="src/Pos.Txp.Network.Types.html#TxMsgTag" class="link">Source</a> <a href="#t:TxMsgTag" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TxMsgTag" class="def">TxMsgTag</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:TxMsgTag" class="caption collapser" onclick="toggleSection('i:TxMsgTag')">Instances</p><div id="section.i:TxMsgTag" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxMsgTag:Eq:1" class="instance expander" onclick="toggleSection('i:id:TxMsgTag:Eq:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Eq.html#t:Eq">Eq</a> <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a></span> <a href="src/Pos.Txp.Network.Types.html#line-17" class="link">Source</a> <a href="#t:TxMsgTag" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxMsgTag:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a> -&gt; <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a> -&gt; <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxMsgTag:Show:2" class="instance expander" onclick="toggleSection('i:id:TxMsgTag:Show:2')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:Show">Show</a> <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a></span> <a href="src/Pos.Txp.Network.Types.html#line-17" class="link">Source</a> <a href="#t:TxMsgTag" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxMsgTag:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a>] -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxMsgTag:Buildable:3" class="instance expander" onclick="toggleSection('i:id:TxMsgTag:Buildable:3')"></span> <a href="http://hackage.haskell.org/package/formatting-6.2.4/docs/Formatting-Formatters.html#t:Buildable">Buildable</a> <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a></span> <a href="src/Pos.Txp.Network.Types.html#line-19" class="link">Source</a> <a href="#t:TxMsgTag" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxMsgTag:Buildable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Pos-Txp.html#t:TxMsgTag">TxMsgTag</a> -&gt; <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text-Lazy-Builder.html#t:Builder">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TxMsgContents" class="def">TxMsgContents</a> <a href="src/Pos.Txp.Network.Types.html#TxMsgContents" class="link">Source</a> <a href="#t:TxMsgContents" class="selflink">#</a></p><div class="doc"><p>Data message. Can be used to send one transaction per message.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TxMsgContents" class="def">TxMsgContents</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dmTx" class="def">dmTx</a> :: !<a href="Pos-Txp-Core.html#t:Tx">Tx</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dmWitness" class="def">dmWitness</a> :: !<a href="Pos-Txp-Core.html#t:TxWitness">TxWitness</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dmDistribution" class="def">dmDistribution</a> :: !<a href="Pos-Txp-Core.html#t:TxDistribution">TxDistribution</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:TxMsgContents" class="caption collapser" onclick="toggleSection('i:TxMsgContents')">Instances</p><div id="section.i:TxMsgContents" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxMsgContents:Eq:1" class="instance expander" onclick="toggleSection('i:id:TxMsgContents:Eq:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Eq.html#t:Eq">Eq</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a></span> <a href="src/Pos.Txp.Network.Types.html#line-27" class="link">Source</a> <a href="#t:TxMsgContents" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxMsgContents:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> -&gt; <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> -&gt; <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxMsgContents:Show:2" class="instance expander" onclick="toggleSection('i:id:TxMsgContents:Show:2')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:Show">Show</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a></span> <a href="src/Pos.Txp.Network.Types.html#line-27" class="link">Source</a> <a href="#t:TxMsgContents" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxMsgContents:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a>] -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxMsgContents:Generic:3" class="instance expander" onclick="toggleSection('i:id:TxMsgContents:Generic:3')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:Generic">Generic</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a></span> <a href="src/Pos.Txp.Network.Types.html#line-27" class="link">Source</a> <a href="#t:TxMsgContents" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxMsgContents:Generic:3" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:Rep">Rep</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Kind.html#t:-42-">*</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Kind.html#t:-42-">*</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:Rep">Rep</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:Rep">Rep</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> x -&gt; <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> <a href="#v:to" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxMsgContents:Buildable:4" class="instance expander" onclick="toggleSection('i:id:TxMsgContents:Buildable:4')"></span> <a href="http://hackage.haskell.org/package/formatting-6.2.4/docs/Formatting-Formatters.html#t:Buildable">Buildable</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a></span> <a href="src/Pos.Txp.Network.Types.html#line-29" class="link">Source</a> <a href="#t:TxMsgContents" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxMsgContents:Buildable:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> -&gt; <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text-Lazy-Builder.html#t:Builder">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxMsgContents:Rep:5" class="instance expander" onclick="toggleSection('i:id:TxMsgContents:Rep:5')"></span> <span class="keyword">type</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:Rep">Rep</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a></span> <a href="src/Pos.Txp.Network.Types.html#line-23" class="link">Source</a> <a href="#t:TxMsgContents" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxMsgContents:Rep:5" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:Rep">Rep</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a> = <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:D1">D1</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:MetaData">MetaData</a> &quot;TxMsgContents&quot; &quot;Pos.Txp.Network.Types&quot; &quot;cryptokami-sl-0.4.4-B98tGNtVvIG5ZcYn5eJ3ne&quot; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#v:False">False</a>) (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:C1">C1</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:MetaCons">MetaCons</a> &quot;TxMsgContents&quot; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:PrefixI">PrefixI</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#v:True">True</a>) (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t::-42-:">(:*:)</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:S1">S1</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#v:Just">Just</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;dmTx&quot;) <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:SourceStrict">SourceStrict</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:DecidedStrict">DecidedStrict</a>) (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:Rec0">Rec0</a> <a href="Pos-Txp-Core.html#t:Tx">Tx</a>)) (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t::-42-:">(:*:)</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:S1">S1</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#v:Just">Just</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;dmWitness&quot;) <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:SourceStrict">SourceStrict</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:DecidedStrict">DecidedStrict</a>) (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:Rec0">Rec0</a> <a href="Pos-Txp-Core.html#t:TxWitness">TxWitness</a>)) (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:S1">S1</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#v:Just">Just</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;dmDistribution&quot;) <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:SourceStrict">SourceStrict</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#v:DecidedStrict">DecidedStrict</a>) (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/GHC-Generics.html#t:Rec0">Rec0</a> <a href="Pos-Txp-Core.html#t:TxDistribution">TxDistribution</a>)))))</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TxMsgContents:LimitType:6" class="instance expander" onclick="toggleSection('i:id:TxMsgContents:LimitType:6')"></span> <span class="keyword">type</span> <a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Limits-Types.html#t:LimitType">LimitType</a> (<a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Relay.html#t:DataMsg">DataMsg</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a>)</span> <a href="#t:LimitType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TxMsgContents:LimitType:6" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Limits-Types.html#t:LimitType">LimitType</a> (<a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Relay.html#t:DataMsg">DataMsg</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a>) = <a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Limits-Types.html#t:Limit">Limit</a> (<a href="http://hackage.haskell.org/package/cryptokami-sl-infra-0.4.4/docs/Pos-Communication-Types-Relay.html#t:DataMsg">DataMsg</a> <a href="Pos-Txp.html#t:TxMsgContents">TxMsgContents</a>)</div></div></td></tr></table></div></div></div><div class="top"><p class="src">module <a href="Pos-Txp-Settings.html">Pos.Txp.Settings</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a id="t:MonadUtxoRead" class="def">MonadUtxoRead</a> m <span class="keyword">where</span> <a href="src/Pos.Txp.Toil.Class.html#MonadUtxoRead" class="link">Source</a> <a href="#t:MonadUtxoRead" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:utxoGet" class="def">utxoGet</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a>) <a href="src/Pos.Txp.Toil.Class.html#utxoGet" class="link">Source</a> <a href="#v:utxoGet" class="selflink">#</a></p><p class="src"><a id="v:utxoGet" class="def">utxoGet</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> m', t m' ~ m) =&gt; <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a>) <a href="src/Pos.Txp.Toil.Class.html#utxoGet" class="link">Source</a> <a href="#v:utxoGet" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:MonadUtxoRead" class="caption collapser" onclick="toggleSection('i:MonadUtxoRead')">Instances</p><div id="section.i:MonadUtxoRead" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUtxoRead:MonadUtxoRead:1" class="instance expander" onclick="toggleSection('i:ic:MonadUtxoRead:MonadUtxoRead:1')"></span> <a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> ((-&gt;) <a href="Pos-Txp.html#t:Utxo">Utxo</a>)</span> <a href="src/Pos.Txp.Toil.Class.html#line-40" class="link">Source</a> <a href="#t:MonadUtxoRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUtxoRead:MonadUtxoRead:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:utxoGet">utxoGet</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a> <a href="src/Pos.Txp.Toil.Class.html#utxoGet" class="link">Source</a> <a href="#v:utxoGet" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUtxoRead:MonadUtxoRead:2" class="instance expander" onclick="toggleSection('i:ic:MonadUtxoRead:MonadUtxoRead:2')"></span> (<a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> m, <a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> (t m)) =&gt; <a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> (t m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-37" class="link">Source</a> <a href="#t:MonadUtxoRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUtxoRead:MonadUtxoRead:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:utxoGet">utxoGet</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; t m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a>) <a href="src/Pos.Txp.Toil.Class.html#utxoGet" class="link">Source</a> <a href="#v:utxoGet" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUtxoRead:MonadUtxoRead:3" class="instance expander" onclick="toggleSection('i:ic:MonadUtxoRead:MonadUtxoRead:3')"></span> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m, <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m) =&gt; <a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> (<a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-33" class="link">Source</a> <a href="#t:MonadUtxoRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUtxoRead:MonadUtxoRead:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:utxoGet">utxoGet</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; <a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a>) <a href="src/Pos.Txp.Toil.Class.html#utxoGet" class="link">Source</a> <a href="#v:utxoGet" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUtxoRead:MonadUtxoRead:4" class="instance expander" onclick="toggleSection('i:ic:MonadUtxoRead:MonadUtxoRead:4')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> (<a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-State-Lazy.html#t:StateT">StateT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a> m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-43" class="link">Source</a> <a href="#t:MonadUtxoRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUtxoRead:MonadUtxoRead:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:utxoGet">utxoGet</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-State-Lazy.html#t:StateT">StateT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a> m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a>) <a href="src/Pos.Txp.Toil.Class.html#utxoGet" class="link">Source</a> <a href="#v:utxoGet" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUtxoRead:MonadUtxoRead:5" class="instance expander" onclick="toggleSection('i:ic:MonadUtxoRead:MonadUtxoRead:5')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> (<a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-Reader.html#t:ReaderT">ReaderT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a> m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-46" class="link">Source</a> <a href="#t:MonadUtxoRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUtxoRead:MonadUtxoRead:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:utxoGet">utxoGet</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-Reader.html#t:ReaderT">ReaderT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a> m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a>) <a href="src/Pos.Txp.Toil.Class.html#utxoGet" class="link">Source</a> <a href="#v:utxoGet" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> m =&gt; <a id="t:MonadUtxo" class="def">MonadUtxo</a> m <span class="keyword">where</span> <a href="src/Pos.Txp.Toil.Class.html#MonadUtxo" class="link">Source</a> <a href="#t:MonadUtxo" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:utxoPut" class="def">utxoPut</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#utxoPut" class="link">Source</a> <a href="#v:utxoPut" class="selflink">#</a></p><p class="src"><a id="v:utxoPut" class="def">utxoPut</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m', t m' ~ m) =&gt; <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#utxoPut" class="link">Source</a> <a href="#v:utxoPut" class="selflink">#</a></p><p class="src"><a id="v:utxoDel" class="def">utxoDel</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#utxoDel" class="link">Source</a> <a href="#v:utxoDel" class="selflink">#</a></p><p class="src"><a id="v:utxoDel" class="def">utxoDel</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m', t m' ~ m) =&gt; <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#utxoDel" class="link">Source</a> <a href="#v:utxoDel" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:MonadUtxo" class="caption collapser" onclick="toggleSection('i:MonadUtxo')">Instances</p><div id="section.i:MonadUtxo" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUtxo:MonadUtxo:1" class="instance expander" onclick="toggleSection('i:ic:MonadUtxo:MonadUtxo:1')"></span> (<a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m, <a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> (t m)) =&gt; <a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> (t m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-58" class="link">Source</a> <a href="#t:MonadUtxo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUtxo:MonadUtxo:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:utxoPut">utxoPut</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a> -&gt; t m () <a href="src/Pos.Txp.Toil.Class.html#utxoPut" class="link">Source</a> <a href="#v:utxoPut" class="selflink">#</a></p><p class="src"><a href="#v:utxoDel">utxoDel</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; t m () <a href="src/Pos.Txp.Toil.Class.html#utxoDel" class="link">Source</a> <a href="#v:utxoDel" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUtxo:MonadUtxo:2" class="instance expander" onclick="toggleSection('i:ic:MonadUtxo:MonadUtxo:2')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> (<a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-State-Lazy.html#t:StateT">StateT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a> m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-60" class="link">Source</a> <a href="#t:MonadUtxo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUtxo:MonadUtxo:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:utxoPut">utxoPut</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a> -&gt; <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-State-Lazy.html#t:StateT">StateT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a> m () <a href="src/Pos.Txp.Toil.Class.html#utxoPut" class="link">Source</a> <a href="#v:utxoPut" class="selflink">#</a></p><p class="src"><a href="#v:utxoDel">utxoDel</a> :: <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> -&gt; <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-State-Lazy.html#t:StateT">StateT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a> m () <a href="src/Pos.Txp.Toil.Class.html#utxoDel" class="link">Source</a> <a href="#v:utxoDel" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a id="t:MonadBalancesRead" class="def">MonadBalancesRead</a> m <span class="keyword">where</span> <a href="src/Pos.Txp.Toil.Class.html#MonadBalancesRead" class="link">Source</a> <a href="#t:MonadBalancesRead" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:getStake" class="def">getStake</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>) <a href="src/Pos.Txp.Toil.Class.html#getStake" class="link">Source</a> <a href="#v:getStake" class="selflink">#</a></p><p class="src"><a id="v:getTotalStake" class="def">getTotalStake</a> :: m <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> <a href="src/Pos.Txp.Toil.Class.html#getTotalStake" class="link">Source</a> <a href="#v:getTotalStake" class="selflink">#</a></p><p class="src"><a id="v:getStake" class="def">getStake</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadBalancesRead">MonadBalancesRead</a> m', t m' ~ m) =&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> -&gt; m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>) <a href="src/Pos.Txp.Toil.Class.html#getStake" class="link">Source</a> <a href="#v:getStake" class="selflink">#</a></p><p class="src"><a id="v:getTotalStake" class="def">getTotalStake</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadBalancesRead">MonadBalancesRead</a> m', t m' ~ m) =&gt; m <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> <a href="src/Pos.Txp.Toil.Class.html#getTotalStake" class="link">Source</a> <a href="#v:getTotalStake" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:MonadBalancesRead" class="caption collapser" onclick="toggleSection('i:MonadBalancesRead')">Instances</p><div id="section.i:MonadBalancesRead" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadBalancesRead:MonadBalancesRead:1" class="instance expander" onclick="toggleSection('i:ic:MonadBalancesRead:MonadBalancesRead:1')"></span> (<a href="Pos-Txp.html#t:MonadBalancesRead">MonadBalancesRead</a> m, <a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> (t m)) =&gt; <a href="Pos-Txp.html#t:MonadBalancesRead">MonadBalancesRead</a> (t m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-81" class="link">Source</a> <a href="#t:MonadBalancesRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadBalancesRead:MonadBalancesRead:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getStake">getStake</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> -&gt; t m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>) <a href="src/Pos.Txp.Toil.Class.html#getStake" class="link">Source</a> <a href="#v:getStake" class="selflink">#</a></p><p class="src"><a href="#v:getTotalStake">getTotalStake</a> :: t m <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> <a href="src/Pos.Txp.Toil.Class.html#getTotalStake" class="link">Source</a> <a href="#v:getTotalStake" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadBalancesRead:MonadBalancesRead:2" class="instance expander" onclick="toggleSection('i:ic:MonadBalancesRead:MonadBalancesRead:2')"></span> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m, <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m) =&gt; <a href="Pos-Txp.html#t:MonadBalancesRead">MonadBalancesRead</a> (<a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-36" class="link">Source</a> <a href="#t:MonadBalancesRead" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadBalancesRead:MonadBalancesRead:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getStake">getStake</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> -&gt; <a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>) <a href="src/Pos.Txp.Toil.Class.html#getStake" class="link">Source</a> <a href="#v:getStake" class="selflink">#</a></p><p class="src"><a href="#v:getTotalStake">getTotalStake</a> :: <a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> <a href="src/Pos.Txp.Toil.Class.html#getTotalStake" class="link">Source</a> <a href="#v:getTotalStake" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Pos-Txp.html#t:MonadBalancesRead">MonadBalancesRead</a> m =&gt; <a id="t:MonadBalances" class="def">MonadBalances</a> m <span class="keyword">where</span> <a href="src/Pos.Txp.Toil.Class.html#MonadBalances" class="link">Source</a> <a href="#t:MonadBalances" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:setStake" class="def">setStake</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#setStake" class="link">Source</a> <a href="#v:setStake" class="selflink">#</a></p><p class="src"><a id="v:setTotalStake" class="def">setTotalStake</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#setTotalStake" class="link">Source</a> <a href="#v:setTotalStake" class="selflink">#</a></p><p class="src"><a id="v:setStake" class="def">setStake</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadBalances">MonadBalances</a> m', t m' ~ m) =&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#setStake" class="link">Source</a> <a href="#v:setStake" class="selflink">#</a></p><p class="src"><a id="v:setTotalStake" class="def">setTotalStake</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadBalances">MonadBalances</a> m', t m' ~ m) =&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#setTotalStake" class="link">Source</a> <a href="#v:setTotalStake" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:MonadBalances" class="caption collapser" onclick="toggleSection('i:MonadBalances')">Instances</p><div id="section.i:MonadBalances" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadBalances:MonadBalances:1" class="instance expander" onclick="toggleSection('i:ic:MonadBalances:MonadBalances:1')"></span> (<a href="Pos-Txp.html#t:MonadBalances">MonadBalances</a> m, <a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> (t m)) =&gt; <a href="Pos-Txp.html#t:MonadBalances">MonadBalances</a> (t m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-97" class="link">Source</a> <a href="#t:MonadBalances" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadBalances:MonadBalances:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:setStake">setStake</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> -&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; t m () <a href="src/Pos.Txp.Toil.Class.html#setStake" class="link">Source</a> <a href="#v:setStake" class="selflink">#</a></p><p class="src"><a href="#v:setTotalStake">setTotalStake</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> -&gt; t m () <a href="src/Pos.Txp.Toil.Class.html#setTotalStake" class="link">Source</a> <a href="#v:setTotalStake" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a id="t:MonadToilEnv" class="def">MonadToilEnv</a> m <span class="keyword">where</span> <a href="src/Pos.Txp.Toil.Class.html#MonadToilEnv" class="link">Source</a> <a href="#t:MonadToilEnv" class="selflink">#</a></p><div class="doc"><p>Type class which lets get some environmental data needed for
 transactions processing.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:getToilEnv" class="def">getToilEnv</a> :: m <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a> <a href="src/Pos.Txp.Toil.Class.html#getToilEnv" class="link">Source</a> <a href="#v:getToilEnv" class="selflink">#</a></p><p class="src"><a id="v:getToilEnv" class="def">getToilEnv</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> m', t m' ~ m) =&gt; m <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a> <a href="src/Pos.Txp.Toil.Class.html#getToilEnv" class="link">Source</a> <a href="#v:getToilEnv" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:MonadToilEnv" class="caption collapser" onclick="toggleSection('i:MonadToilEnv')">Instances</p><div id="section.i:MonadToilEnv" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadToilEnv:MonadToilEnv:1" class="instance expander" onclick="toggleSection('i:ic:MonadToilEnv:MonadToilEnv:1')"></span> <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> ((-&gt;) <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a>)</span> <a href="src/Pos.Txp.Toil.Class.html#line-117" class="link">Source</a> <a href="#t:MonadToilEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadToilEnv:MonadToilEnv:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getToilEnv">getToilEnv</a> :: <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a> -&gt; <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a> <a href="src/Pos.Txp.Toil.Class.html#getToilEnv" class="link">Source</a> <a href="#v:getToilEnv" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadToilEnv:MonadToilEnv:2" class="instance expander" onclick="toggleSection('i:ic:MonadToilEnv:MonadToilEnv:2')"></span> (<a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> m, <a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> (t m)) =&gt; <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> (t m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-114" class="link">Source</a> <a href="#t:MonadToilEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadToilEnv:MonadToilEnv:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getToilEnv">getToilEnv</a> :: t m <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a> <a href="src/Pos.Txp.Toil.Class.html#getToilEnv" class="link">Source</a> <a href="#v:getToilEnv" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadToilEnv:MonadToilEnv:3" class="instance expander" onclick="toggleSection('i:ic:MonadToilEnv:MonadToilEnv:3')"></span> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m, <a href="http://hackage.haskell.org/package/cryptokami-sl-db-0.4.4/docs/Pos-DB-Class.html#t:MonadDB">MonadDB</a> m) =&gt; <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> (<a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-40" class="link">Source</a> <a href="#t:MonadToilEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadToilEnv:MonadToilEnv:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getToilEnv">getToilEnv</a> :: <a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a> <a href="src/Pos.Txp.Toil.Class.html#getToilEnv" class="link">Source</a> <a href="#v:getToilEnv" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a id="t:MonadTxPool" class="def">MonadTxPool</a> m <span class="keyword">where</span> <a href="src/Pos.Txp.Toil.Class.html#MonadTxPool" class="link">Source</a> <a href="#t:MonadTxPool" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:hasTx" class="def">hasTx</a> :: <a href="Pos-Txp-Core.html#t:TxId">TxId</a> -&gt; m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Txp.Toil.Class.html#hasTx" class="link">Source</a> <a href="#v:hasTx" class="selflink">#</a></p><p class="src"><a id="v:poolSize" class="def">poolSize</a> :: m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> <a href="src/Pos.Txp.Toil.Class.html#poolSize" class="link">Source</a> <a href="#v:poolSize" class="selflink">#</a></p><p class="src"><a id="v:putTxWithUndo" class="def">putTxWithUndo</a> :: <a href="Pos-Txp-Core.html#t:TxId">TxId</a> -&gt; <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a> -&gt; <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#putTxWithUndo" class="link">Source</a> <a href="#v:putTxWithUndo" class="selflink">#</a></p><p class="src"><a id="v:hasTx" class="def">hasTx</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadTxPool">MonadTxPool</a> m', t m' ~ m) =&gt; <a href="Pos-Txp-Core.html#t:TxId">TxId</a> -&gt; m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Txp.Toil.Class.html#hasTx" class="link">Source</a> <a href="#v:hasTx" class="selflink">#</a></p><p class="src"><a id="v:poolSize" class="def">poolSize</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadTxPool">MonadTxPool</a> m', t m' ~ m) =&gt; m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> <a href="src/Pos.Txp.Toil.Class.html#poolSize" class="link">Source</a> <a href="#v:poolSize" class="selflink">#</a></p><p class="src"><a id="v:putTxWithUndo" class="def">putTxWithUndo</a> :: (<a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="Pos-Txp.html#t:MonadTxPool">MonadTxPool</a> m', t m' ~ m) =&gt; <a href="Pos-Txp-Core.html#t:TxId">TxId</a> -&gt; <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a> -&gt; <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a> -&gt; m () <a href="src/Pos.Txp.Toil.Class.html#putTxWithUndo" class="link">Source</a> <a href="#v:putTxWithUndo" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:MonadTxPool" class="caption collapser" onclick="toggleSection('i:MonadTxPool')">Instances</p><div id="section.i:MonadTxPool" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadTxPool:MonadTxPool:1" class="instance expander" onclick="toggleSection('i:ic:MonadTxPool:MonadTxPool:1')"></span> (<a href="Pos-Txp.html#t:MonadTxPool">MonadTxPool</a> m, <a href="http://hackage.haskell.org/package/mmorph-1.0.9/docs/Control-Monad-Morph.html#t:MonadTrans">MonadTrans</a> t, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> (t m)) =&gt; <a href="Pos-Txp.html#t:MonadTxPool">MonadTxPool</a> (t m)</span> <a href="src/Pos.Txp.Toil.Class.html#line-142" class="link">Source</a> <a href="#t:MonadTxPool" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadTxPool:MonadTxPool:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hasTx">hasTx</a> :: <a href="Pos-Txp-Core.html#t:TxId">TxId</a> -&gt; t m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="src/Pos.Txp.Toil.Class.html#hasTx" class="link">Source</a> <a href="#v:hasTx" class="selflink">#</a></p><p class="src"><a href="#v:poolSize">poolSize</a> :: t m <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> <a href="src/Pos.Txp.Toil.Class.html#poolSize" class="link">Source</a> <a href="#v:poolSize" class="selflink">#</a></p><p class="src"><a href="#v:putTxWithUndo">putTxWithUndo</a> :: <a href="Pos-Txp-Core.html#t:TxId">TxId</a> -&gt; <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a> -&gt; <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a> -&gt; t m () <a href="src/Pos.Txp.Toil.Class.html#putTxWithUndo" class="link">Source</a> <a href="#v:putTxWithUndo" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DBTxp" class="def">DBTxp</a> = <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Util-Util.html#t:TaggedTrans">TaggedTrans</a> DBTxpTag <a href="http://hackage.haskell.org/package/comonad-5.0.1/docs/Control-Comonad-Trans-Identity.html#t:IdentityT">IdentityT</a> <a href="src/Pos.Txp.Toil.DBTxp.html#DBTxp" class="link">Source</a> <a href="#t:DBTxp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runDBTxp" class="def">runDBTxp</a> :: <a href="Pos-Txp.html#t:DBTxp">DBTxp</a> m a -&gt; m a <a href="src/Pos.Txp.Toil.DBTxp.html#runDBTxp" class="link">Source</a> <a href="#v:runDBTxp" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ToilVerFailure" class="def">ToilVerFailure</a> <a href="src/Pos.Txp.Toil.Failure.html#ToilVerFailure" class="link">Source</a> <a href="#t:ToilVerFailure" class="selflink">#</a></p><div class="doc"><p>Result of transaction processing</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ToilKnown" class="def">ToilKnown</a></td><td class="doc"><p>Transaction is already in the storage (cache)</p></td></tr><tr><td class="src"><a id="v:ToilTipsMismatch" class="def">ToilTipsMismatch</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ttmOldTip" class="def">ttmOldTip</a> :: !<a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ttmNewTip" class="def">ttmNewTip</a> :: !<a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:HeaderHash">HeaderHash</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:ToilOverwhelmed" class="def">ToilOverwhelmed</a></td><td class="doc"><p>Local transaction storage is full -- can't accept more txs</p></td></tr><tr><td class="src"><a id="v:ToilNotUnspent" class="def">ToilNotUnspent</a> !<a href="Pos-Txp-Core.html#t:TxIn">TxIn</a></td><td class="doc"><p>Tx input is not a known unspent input.</p></td></tr><tr><td class="src"><a id="v:ToilOutGTIn" class="def">ToilOutGTIn</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:tInputSum" class="def">tInputSum</a> :: !<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Prelude.html#t:Integer">Integer</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:tOutputSum" class="def">tOutputSum</a> :: !<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Prelude.html#t:Integer">Integer</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:ToilInconsistentTxAux" class="def">ToilInconsistentTxAux</a> !<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ToilInvalidOutputs" class="def">ToilInvalidOutputs</a> !<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ToilInvalidInputs" class="def">ToilInvalidInputs</a> ![<a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text.html#t:Text">Text</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ToilTooLargeTx" class="def">ToilTooLargeTx</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:ttltSize" class="def">ttltSize</a> :: !<a href="http://hackage.haskell.org/package/serokell-util-0.1.5.0/docs/Serokell-Data-Memory-Units.html#t:Byte">Byte</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:ttltLimit" class="def">ttltLimit</a> :: !<a href="http://hackage.haskell.org/package/serokell-util-0.1.5.0/docs/Serokell-Data-Memory-Units.html#t:Byte">Byte</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:ToilUnknownAttributes" class="def">ToilUnknownAttributes</a> !<a href="http://hackage.haskell.org/package/bytestring-0.10.8.1/docs/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ToilVerFailure" class="caption collapser" onclick="toggleSection('i:ToilVerFailure')">Instances</p><div id="section.i:ToilVerFailure" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ToilVerFailure:Eq:1" class="instance expander" onclick="toggleSection('i:id:ToilVerFailure:Eq:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Eq.html#t:Eq">Eq</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a></span> <a href="src/Pos.Txp.Toil.Failure.html#line-32" class="link">Source</a> <a href="#t:ToilVerFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ToilVerFailure:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> -&gt; <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> -&gt; <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ToilVerFailure:Show:2" class="instance expander" onclick="toggleSection('i:id:ToilVerFailure:Show:2')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:Show">Show</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a></span> <a href="src/Pos.Txp.Toil.Failure.html#line-32" class="link">Source</a> <a href="#t:ToilVerFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ToilVerFailure:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a>] -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ToilVerFailure:Buildable:3" class="instance expander" onclick="toggleSection('i:id:ToilVerFailure:Buildable:3')"></span> <a href="http://hackage.haskell.org/package/formatting-6.2.4/docs/Formatting-Formatters.html#t:Buildable">Buildable</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a></span> <a href="src/Pos.Txp.Toil.Failure.html#line-34" class="link">Source</a> <a href="#t:ToilVerFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ToilVerFailure:Buildable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> -&gt; <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text-Lazy-Builder.html#t:Builder">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:GlobalToilMode" class="def">GlobalToilMode</a> m = (<a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m, <a href="Pos-Txp.html#t:MonadBalances">MonadBalances</a> m, <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> m, <a href="http://hackage.haskell.org/package/log-warper-1.1.2/docs/System-Wlog-CanLog.html#t:WithLogger">WithLogger</a> m) <a href="src/Pos.Txp.Toil.Logic.html#GlobalToilMode" class="link">Source</a> <a href="#t:GlobalToilMode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:verifyToil" class="def">verifyToil</a> :: (<a href="Pos-Txp.html#t:GlobalToilMode">GlobalToilMode</a> m, <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m) =&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; [<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>] -&gt; m <a href="Pos-Txp-Core.html#t:TxpUndo">TxpUndo</a> <a href="src/Pos.Txp.Toil.Logic.html#verifyToil" class="link">Source</a> <a href="#v:verifyToil" class="selflink">#</a></p><div class="doc"><p>Verify transactions correctness with respect to Utxo applying
 them one-by-one.
 Note: transactions must be topsorted to pass check.
 Warning: this function may apply some transactions and fail
 eventually. Use it only on temporary data.</p><p>If the first argument is <code><a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#v:True">True</a></code>, all data (script versions,
 witnesses, addresses, attributes) must be known. Otherwise unknown
 data is just ignored.</p></div></div><div class="top"><p class="src"><a id="v:applyToil" class="def">applyToil</a> :: <a href="Pos-Txp.html#t:GlobalToilMode">GlobalToilMode</a> m =&gt; [(<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>, <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a>)] -&gt; m () <a href="src/Pos.Txp.Toil.Logic.html#applyToil" class="link">Source</a> <a href="#v:applyToil" class="selflink">#</a></p><div class="doc"><p>Apply transactions from one block. They must be valid (for
 example, it implies topological sort).</p></div></div><div class="top"><p class="src"><a id="v:rollbackToil" class="def">rollbackToil</a> :: <a href="Pos-Txp.html#t:GlobalToilMode">GlobalToilMode</a> m =&gt; [(<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>, <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a>)] -&gt; m () <a href="src/Pos.Txp.Toil.Logic.html#rollbackToil" class="link">Source</a> <a href="#v:rollbackToil" class="selflink">#</a></p><div class="doc"><p>Rollback transactions from one block.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:LocalToilMode" class="def">LocalToilMode</a> m = (<a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m, <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> m, <a href="Pos-Txp.html#t:MonadTxPool">MonadTxPool</a> m) <a href="src/Pos.Txp.Toil.Logic.html#LocalToilMode" class="link">Source</a> <a href="#t:LocalToilMode" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:normalizeToil" class="def">normalizeToil</a> :: <a href="Pos-Txp.html#t:LocalToilMode">LocalToilMode</a> m =&gt; [(<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>)] -&gt; m () <a href="src/Pos.Txp.Toil.Logic.html#normalizeToil" class="link">Source</a> <a href="#v:normalizeToil" class="selflink">#</a></p><div class="doc"><p>Get rid of invalid transactions.
 All valid transactions will be added to mem pool and applied to utxo.</p></div></div><div class="top"><p class="src"><a id="v:processTx" class="def">processTx</a> :: (<a href="Pos-Txp.html#t:LocalToilMode">LocalToilMode</a> m, <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m) =&gt; (<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>) -&gt; m <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a> <a href="src/Pos.Txp.Toil.Logic.html#processTx" class="link">Source</a> <a href="#v:processTx" class="selflink">#</a></p><div class="doc"><p>Verify one transaction and also add it to mem pool and apply to utxo
 if transaction is valid.</p></div></div><div class="top"><p class="src"><a id="v:verifyAndApplyTx" class="def">verifyAndApplyTx</a> :: (<a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m, <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> m, <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m) =&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a> -&gt; (<a href="Pos-Txp-Core.html#t:TxId">TxId</a>, <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>) -&gt; m <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a> <a href="src/Pos.Txp.Toil.Logic.html#verifyAndApplyTx" class="link">Source</a> <a href="#v:verifyAndApplyTx" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ToilT" class="def">ToilT</a> ext m = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-State-Lazy.html#t:StateT">StateT</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> ext) m <a href="src/Pos.Txp.Toil.Trans.html#ToilT" class="link">Source</a> <a href="#t:ToilT" class="selflink">#</a></p><div class="doc"><p>Monad transformer which stores ToilModifier and implements
 writable Toil type classes.</p><dl><dt>WARNING</dt><dd>This transformer uses StateT and is intended for
 single-threaded usage only.
 Used for block application now.</dd></dl></div></div><div class="top"><p class="src"><a id="v:runToilTGlobal" class="def">runToilTGlobal</a> :: (<a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> ext, <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor.html#t:Functor">Functor</a> m) =&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> ext m a -&gt; m (a, <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> ext) <a href="src/Pos.Txp.Toil.Trans.html#runToilTGlobal" class="link">Source</a> <a href="#v:runToilTGlobal" class="selflink">#</a></p><div class="doc"><p>Run ToilT using empty modifier. Should be used for global
 transaction processing.</p></div></div><div class="top"><p class="src"><a id="v:runToilTLocal" class="def">runToilTLocal</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor.html#t:Functor">Functor</a> m =&gt; <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> -&gt; <a href="Pos-Txp.html#t:MemPool">MemPool</a> -&gt; <a href="Pos-Txp.html#t:UndoMap">UndoMap</a> -&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> () m a -&gt; m (a, <a href="Pos-Txp.html#t:ToilModifier">ToilModifier</a>) <a href="src/Pos.Txp.Toil.Trans.html#runToilTLocal" class="link">Source</a> <a href="#v:runToilTLocal" class="selflink">#</a></p><div class="doc"><p>Run ToilT using empty balances modifier. Should be used for local
 transaction processing.</p></div></div><div class="top"><p class="src"><a id="v:execToilTLocal" class="def">execToilTLocal</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor.html#t:Functor">Functor</a> m =&gt; <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> -&gt; <a href="Pos-Txp.html#t:MemPool">MemPool</a> -&gt; <a href="Pos-Txp.html#t:UndoMap">UndoMap</a> -&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> () m a -&gt; m <a href="Pos-Txp.html#t:ToilModifier">ToilModifier</a> <a href="src/Pos.Txp.Toil.Trans.html#execToilTLocal" class="link">Source</a> <a href="#v:execToilTLocal" class="selflink">#</a></p><div class="doc"><p>Execute ToilT using empty balances modifier. Should be used for
 local transaction processing.</p></div></div><div class="top"><p class="src"><a id="v:runToilTLocalExtra" class="def">runToilTLocalExtra</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor.html#t:Functor">Functor</a> m =&gt; <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> -&gt; <a href="Pos-Txp.html#t:MemPool">MemPool</a> -&gt; <a href="Pos-Txp.html#t:UndoMap">UndoMap</a> -&gt; extra -&gt; <a href="Pos-Txp.html#t:ToilT">ToilT</a> extra m a -&gt; m (a, <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extra) <a href="src/Pos.Txp.Toil.Trans.html#runToilTLocalExtra" class="link">Source</a> <a href="#v:runToilTLocalExtra" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Pos-Txp.html#v:runToilTLocal">runToilTLocal</a></code>, but takes extra data as argument.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Utxo" class="def">Utxo</a> = <a href="http://hackage.haskell.org/package/containers-0.5.7.1/docs/Data-Map-Lazy.html#t:Map">Map</a> <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a> <a href="src/Pos.Txp.Toil.Types.html#Utxo" class="link">Source</a> <a href="#t:Utxo" class="selflink">#</a></p><div class="doc"><p>Unspent transaction outputs.</p><p>Transaction inputs are identified by (transaction ID, index in list of
 output) pairs.</p></div></div><div class="top"><p class="src"><a id="v:formatUtxo" class="def">formatUtxo</a> :: <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="http://hackage.haskell.org/package/text-1.2.2.1/docs/Data-Text-Lazy-Builder.html#t:Builder">Builder</a> <a href="src/Pos.Txp.Toil.Types.html#formatUtxo" class="link">Source</a> <a href="#v:formatUtxo" class="selflink">#</a></p><div class="doc"><p>Format <code><a href="Pos-Txp.html#t:Utxo">Utxo</a></code> map for showing</p></div></div><div class="top"><p class="src"><a id="v:utxoF" class="def">utxoF</a> :: <a href="http://hackage.haskell.org/package/formatting-6.2.4/docs/Formatting-Internal.html#t:Format">Format</a> r (<a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; r) <a href="src/Pos.Txp.Toil.Types.html#utxoF" class="link">Source</a> <a href="#v:utxoF" class="selflink">#</a></p><div class="doc"><p>Specialized formatter for <code><a href="Pos-Txp.html#t:Utxo">Utxo</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MemPool" class="def">MemPool</a> <a href="src/Pos.Txp.Toil.Types.html#MemPool" class="link">Source</a> <a href="#t:MemPool" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MemPool" class="def">MemPool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_mpLocalTxs" class="def">_mpLocalTxs</a> :: !<a href="Pos-Txp.html#t:TxMap">TxMap</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_mpLocalTxsSize" class="def">_mpLocalTxsSize</a> :: !<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a></dfn><div class="doc"><p><code>length</code> is <code>O(n)</code> for <code><a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a></code> so we store it explicitly.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:MemPool" class="caption collapser" onclick="toggleSection('i:MemPool')">Instances</p><div id="section.i:MemPool" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:MemPool:Default:1" class="instance expander" onclick="toggleSection('i:id:MemPool:Default:1')"></span> <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> <a href="Pos-Txp.html#t:MemPool">MemPool</a></span> <a href="src/Pos.Txp.Toil.Types.html#line-96" class="link">Source</a> <a href="#t:MemPool" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:MemPool:Default:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Pos-Txp.html#t:MemPool">MemPool</a> <a href="#v:def" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:mpLocalTxs" class="def">mpLocalTxs</a> :: <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Pos-Txp.html#t:MemPool">MemPool</a> <a href="Pos-Txp.html#t:TxMap">TxMap</a> <a href="src/Pos.Txp.Toil.Types.html#mpLocalTxs" class="link">Source</a> <a href="#v:mpLocalTxs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mpLocalTxsSize" class="def">mpLocalTxsSize</a> :: <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Pos-Txp.html#t:MemPool">MemPool</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> <a href="src/Pos.Txp.Toil.Types.html#mpLocalTxsSize" class="link">Source</a> <a href="#v:mpLocalTxsSize" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TxMap" class="def">TxMap</a> = <a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="Pos-Txp-Core.html#t:TxId">TxId</a> <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a> <a href="src/Pos.Txp.Toil.Types.html#TxMap" class="link">Source</a> <a href="#t:TxMap" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BalancesView" class="def">BalancesView</a> <a href="src/Pos.Txp.Toil.Types.html#BalancesView" class="link">Source</a> <a href="#t:BalancesView" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BalancesView" class="def">BalancesView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_bvStakes" class="def">_bvStakes</a> :: !(<a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_bvTotal" class="def">_bvTotal</a> :: !(<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:BalancesView" class="caption collapser" onclick="toggleSection('i:BalancesView')">Instances</p><div id="section.i:BalancesView" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:BalancesView:Default:1" class="instance expander" onclick="toggleSection('i:id:BalancesView:Default:1')"></span> <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> <a href="Pos-Txp.html#t:BalancesView">BalancesView</a></span> <a href="src/Pos.Txp.Toil.Types.html#line-76" class="link">Source</a> <a href="#t:BalancesView" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:BalancesView:Default:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Pos-Txp.html#t:BalancesView">BalancesView</a> <a href="#v:def" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:bvStakes" class="def">bvStakes</a> :: <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Pos-Txp.html#t:BalancesView">BalancesView</a> (<a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>) <a href="src/Pos.Txp.Toil.Types.html#bvStakes" class="link">Source</a> <a href="#v:bvStakes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:bvTotal" class="def">bvTotal</a> :: <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Pos-Txp.html#t:BalancesView">BalancesView</a> (<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Maybe.html#t:Maybe">Maybe</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a>) <a href="src/Pos.Txp.Toil.Types.html#bvTotal" class="link">Source</a> <a href="#v:bvTotal" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UndoMap" class="def">UndoMap</a> = <a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="Pos-Txp-Core.html#t:TxId">TxId</a> <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a> <a href="src/Pos.Txp.Toil.Types.html#UndoMap" class="link">Source</a> <a href="#t:UndoMap" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UtxoModifier" class="def">UtxoModifier</a> = <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Util-Modifier.html#t:MapModifier">MapModifier</a> <a href="Pos-Txp-Core.html#t:TxIn">TxIn</a> <a href="Pos-Txp-Core.html#t:TxOutAux">TxOutAux</a> <a href="src/Pos.Txp.Toil.Types.html#UtxoModifier" class="link">Source</a> <a href="#t:UtxoModifier" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GenericToilModifier" class="def">GenericToilModifier</a> extension <a href="src/Pos.Txp.Toil.Types.html#GenericToilModifier" class="link">Source</a> <a href="#t:GenericToilModifier" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ToilModifier" class="def">ToilModifier</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_tmUtxo" class="def">_tmUtxo</a> :: !<a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_tmBalances" class="def">_tmBalances</a> :: !<a href="Pos-Txp.html#t:BalancesView">BalancesView</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_tmMemPool" class="def">_tmMemPool</a> :: !<a href="Pos-Txp.html#t:MemPool">MemPool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_tmUndos" class="def">_tmUndos</a> :: !<a href="Pos-Txp.html#t:UndoMap">UndoMap</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_tmExtra" class="def">_tmExtra</a> :: !extension</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:GenericToilModifier" class="caption collapser" onclick="toggleSection('i:GenericToilModifier')">Instances</p><div id="section.i:GenericToilModifier" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:GenericToilModifier:Default:1" class="instance expander" onclick="toggleSection('i:id:GenericToilModifier:Default:1')"></span> <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> ext =&gt; <a href="http://hackage.haskell.org/package/data-default-0.7.1.1/docs/Data-Default.html#t:Default">Default</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> ext)</span> <a href="src/Pos.Txp.Toil.Types.html#line-123" class="link">Source</a> <a href="#t:GenericToilModifier" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:GenericToilModifier:Default:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> ext <a href="#v:def" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ToilModifier" class="def">ToilModifier</a> = <a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> () <a href="src/Pos.Txp.Toil.Types.html#ToilModifier" class="link">Source</a> <a href="#t:ToilModifier" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tmUtxo" class="def">tmUtxo</a> :: <span class="keyword">forall</span> extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) <a href="Pos-Txp.html#t:UtxoModifier">UtxoModifier</a> <a href="src/Pos.Txp.Toil.Types.html#tmUtxo" class="link">Source</a> <a href="#v:tmUtxo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tmBalances" class="def">tmBalances</a> :: <span class="keyword">forall</span> extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) <a href="Pos-Txp.html#t:BalancesView">BalancesView</a> <a href="src/Pos.Txp.Toil.Types.html#tmBalances" class="link">Source</a> <a href="#v:tmBalances" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tmMemPool" class="def">tmMemPool</a> :: <span class="keyword">forall</span> extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) <a href="Pos-Txp.html#t:MemPool">MemPool</a> <a href="src/Pos.Txp.Toil.Types.html#tmMemPool" class="link">Source</a> <a href="#v:tmMemPool" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tmUndos" class="def">tmUndos</a> :: <span class="keyword">forall</span> extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) <a href="Pos-Txp.html#t:UndoMap">UndoMap</a> <a href="src/Pos.Txp.Toil.Types.html#tmUndos" class="link">Source</a> <a href="#v:tmUndos" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tmExtra" class="def">tmExtra</a> :: <span class="keyword">forall</span> extension extension. <a href="http://hackage.haskell.org/package/lens-4.15.1/docs/Control-Lens-Type.html#t:Lens">Lens</a> (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) (<a href="Pos-Txp.html#t:GenericToilModifier">GenericToilModifier</a> extension) extension extension <a href="src/Pos.Txp.Toil.Types.html#tmExtra" class="link">Source</a> <a href="#v:tmExtra" class="selflink">#</a></p></div><h1 id="g:2">Env</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ToilEnv" class="def">ToilEnv</a> <a href="src/Pos.Txp.Toil.Types.html#ToilEnv" class="link">Source</a> <a href="#t:ToilEnv" class="selflink">#</a></p><div class="doc"><p>Environment used by Toil.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ToilEnv" class="def">ToilEnv</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:teMaxTxSize" class="def">teMaxTxSize</a> :: !<a href="http://hackage.haskell.org/package/serokell-util-0.1.5.0/docs/Serokell-Data-Memory-Units.html#t:Byte">Byte</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:ToilEnv" class="caption collapser" onclick="toggleSection('i:ToilEnv')">Instances</p><div id="section.i:ToilEnv" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ToilEnv:MonadToilEnv:1" class="instance expander" onclick="toggleSection('i:id:ToilEnv:MonadToilEnv:1')"></span> <a href="Pos-Txp.html#t:MonadToilEnv">MonadToilEnv</a> ((-&gt;) <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a>)</span> <a href="src/Pos.Txp.Toil.Class.html#line-117" class="link">Source</a> <a href="#t:MonadToilEnv" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ToilEnv:MonadToilEnv:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getToilEnv">getToilEnv</a> :: <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a> -&gt; <a href="Pos-Txp.html#t:ToilEnv">ToilEnv</a> <a href="src/Pos.Txp.Toil.Class.html#getToilEnv" class="link">Source</a> <a href="#v:getToilEnv" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:VTxContext" class="def">VTxContext</a> <a href="src/Pos.Txp.Toil.Utxo.Functions.html#VTxContext" class="link">Source</a> <a href="#t:VTxContext" class="selflink">#</a></p><div class="doc"><p>Global context data needed for tx verification. VT stands for
 &quot;Verify Tx&quot;. To be populated in further versions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:VTxContext" class="def">VTxContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:vtcVerifyAllIsKnown" class="def">vtcVerifyAllIsKnown</a> :: !<a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc"><p>Verify that script versions in tx are known, addresses' and
 witnesses' types are known, attributes are known too.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:VTxContext" class="caption collapser" onclick="toggleSection('i:VTxContext')">Instances</p><div id="section.i:VTxContext" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:VTxContext:Show:1" class="instance expander" onclick="toggleSection('i:id:VTxContext:Show:1')"></span> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:Show">Show</a> <a href="Pos-Txp.html#t:VTxContext">VTxContext</a></span> <a href="src/Pos.Txp.Toil.Utxo.Functions.html#line-53" class="link">Source</a> <a href="#t:VTxContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:VTxContext:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Pos-Txp.html#t:VTxContext">VTxContext</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pos-Txp.html#t:VTxContext">VTxContext</a> -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pos-Txp.html#t:VTxContext">VTxContext</a>] -&gt; <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:verifyTxUtxo" class="def">verifyTxUtxo</a> :: (<a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a> m, <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m) =&gt; <a href="Pos-Txp.html#t:VTxContext">VTxContext</a> -&gt; <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a> -&gt; m <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a> <a href="src/Pos.Txp.Toil.Utxo.Functions.html#verifyTxUtxo" class="link">Source</a> <a href="#v:verifyTxUtxo" class="selflink">#</a></p><div class="doc"><p>CHECK: Verify Tx correctness using <code><a href="Pos-Txp.html#t:MonadUtxoRead">MonadUtxoRead</a></code>.
 Specifically there are the following checks:</p><ul><li>every input is a known unspent output;</li><li>sum of inputs &gt;= sum of outputs;</li><li>every input has a proper witness verifying that input;</li><li>script witnesses have matching script versions;</li><li>if <code><a href="Pos-Txp.html#v:vtcVerifyAllIsKnown">vtcVerifyAllIsKnown</a></code> is <code><a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#v:True">True</a></code>, addresses' versions are verified
   to be known, as well as witnesses, attributes, script versions.</li></ul><p>Note that <code><a href="Pos-Txp.html#v:verifyTxUtxo">verifyTxUtxo</a></code> doesn't attempt to verify scripts with
 versions higher than maximum script version we can handle. That's
 because we want blocks with such transactions to be accepted (to
 avoid hard forks). However, we won't include such transactions into
 blocks when we're creating a block (because transactions for
 inclusion into blocks are verified with <code><a href="Pos-Txp.html#v:vtcVerifyAllIsKnown">vtcVerifyAllIsKnown</a></code>
 set to <code><a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Bool.html#v:True">True</a></code>, so unknown script versions are rejected).</p></div></div><div class="top"><p class="src"><a id="v:applyTxToUtxo" class="def">applyTxToUtxo</a> :: <a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m =&gt; <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Crypto-Hashing.html#t:WithHash">WithHash</a> <a href="Pos-Txp-Core.html#t:Tx">Tx</a> -&gt; <a href="Pos-Txp-Core.html#t:TxDistribution">TxDistribution</a> -&gt; m () <a href="src/Pos.Txp.Toil.Utxo.Functions.html#applyTxToUtxo" class="link">Source</a> <a href="#v:applyTxToUtxo" class="selflink">#</a></p><div class="doc"><p>Remove unspent outputs used in given transaction, add new unspent
 outputs.</p></div></div><div class="top"><p class="src"><a id="v:rollbackTxUtxo" class="def">rollbackTxUtxo</a> :: <a href="Pos-Txp.html#t:MonadUtxo">MonadUtxo</a> m =&gt; (<a href="Pos-Txp-Core.html#t:TxAux">TxAux</a>, <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a>) -&gt; m () <a href="src/Pos.Txp.Toil.Utxo.Functions.html#rollbackTxUtxo" class="link">Source</a> <a href="#v:rollbackTxUtxo" class="selflink">#</a></p><div class="doc"><p>Rollback application of given transaction to Utxo using Undo
 data.  This function assumes that transaction has been really
 applied and doesn't check anything.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UtxoReaderT" class="def">UtxoReaderT</a> = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-Reader.html#t:ReaderT">ReaderT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a> <a href="src/Pos.Txp.Toil.Utxo.Pure.html#UtxoReaderT" class="link">Source</a> <a href="#t:UtxoReaderT" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runUtxoReaderT" class="def">runUtxoReaderT</a> :: <a href="Pos-Txp.html#t:UtxoReaderT">UtxoReaderT</a> m a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; m a <a href="src/Pos.Txp.Toil.Utxo.Pure.html#runUtxoReaderT" class="link">Source</a> <a href="#v:runUtxoReaderT" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UtxoReader" class="def">UtxoReader</a> = <a href="Pos-Txp.html#t:UtxoReaderT">UtxoReaderT</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor-Identity.html#t:Identity">Identity</a> <a href="src/Pos.Txp.Toil.Utxo.Pure.html#UtxoReader" class="link">Source</a> <a href="#t:UtxoReader" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runUtxoReader" class="def">runUtxoReader</a> :: <a href="Pos-Txp.html#t:UtxoReader">UtxoReader</a> a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; a <a href="src/Pos.Txp.Toil.Utxo.Pure.html#runUtxoReader" class="link">Source</a> <a href="#v:runUtxoReader" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UtxoStateT" class="def">UtxoStateT</a> = <a href="http://hackage.haskell.org/package/ether-0.4.1.0/docs/Control-Monad-Ether-Implicit-State-Lazy.html#t:StateT">StateT</a> <a href="Pos-Txp.html#t:Utxo">Utxo</a> <a href="src/Pos.Txp.Toil.Utxo.Pure.html#UtxoStateT" class="link">Source</a> <a href="#t:UtxoStateT" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runUtxoStateT" class="def">runUtxoStateT</a> :: <a href="Pos-Txp.html#t:UtxoStateT">UtxoStateT</a> m a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; m (a, <a href="Pos-Txp.html#t:Utxo">Utxo</a>) <a href="src/Pos.Txp.Toil.Utxo.Pure.html#runUtxoStateT" class="link">Source</a> <a href="#v:runUtxoStateT" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:evalUtxoStateT" class="def">evalUtxoStateT</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Pos-Txp.html#t:UtxoStateT">UtxoStateT</a> m a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; m a <a href="src/Pos.Txp.Toil.Utxo.Pure.html#evalUtxoStateT" class="link">Source</a> <a href="#v:evalUtxoStateT" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:execUtxoStateT" class="def">execUtxoStateT</a> :: <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Pos-Txp.html#t:UtxoStateT">UtxoStateT</a> m a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; m <a href="Pos-Txp.html#t:Utxo">Utxo</a> <a href="src/Pos.Txp.Toil.Utxo.Pure.html#execUtxoStateT" class="link">Source</a> <a href="#v:execUtxoStateT" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UtxoState" class="def">UtxoState</a> = <a href="Pos-Txp.html#t:UtxoStateT">UtxoStateT</a> <a href="http://hackage.haskell.org/package/base-4.9.1.0/docs/Data-Functor-Identity.html#t:Identity">Identity</a> <a href="src/Pos.Txp.Toil.Utxo.Pure.html#UtxoState" class="link">Source</a> <a href="#t:UtxoState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runUtxoState" class="def">runUtxoState</a> :: <a href="Pos-Txp.html#t:UtxoState">UtxoState</a> a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; (a, <a href="Pos-Txp.html#t:Utxo">Utxo</a>) <a href="src/Pos.Txp.Toil.Utxo.Pure.html#runUtxoState" class="link">Source</a> <a href="#v:runUtxoState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:evalUtxoState" class="def">evalUtxoState</a> :: <a href="Pos-Txp.html#t:UtxoState">UtxoState</a> a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; a <a href="src/Pos.Txp.Toil.Utxo.Pure.html#evalUtxoState" class="link">Source</a> <a href="#v:evalUtxoState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:execUtxoState" class="def">execUtxoState</a> :: <a href="Pos-Txp.html#t:UtxoState">UtxoState</a> a -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> <a href="src/Pos.Txp.Toil.Utxo.Pure.html#execUtxoState" class="link">Source</a> <a href="#v:execUtxoState" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:applyTxToUtxoPure" class="def">applyTxToUtxoPure</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Crypto-Hashing.html#t:WithHash">WithHash</a> <a href="Pos-Txp-Core.html#t:Tx">Tx</a> -&gt; <a href="Pos-Txp-Core.html#t:TxDistribution">TxDistribution</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> <a href="src/Pos.Txp.Toil.Utxo.Pure.html#applyTxToUtxoPure" class="link">Source</a> <a href="#v:applyTxToUtxoPure" class="selflink">#</a></p><div class="doc"><p>Pure version of applyTxToUtxo.</p></div></div><div class="top"><p class="src"><a id="v:verifyTxUtxoPure" class="def">verifyTxUtxoPure</a> :: <a href="http://hackage.haskell.org/package/mtl-2.2.1/docs/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> <a href="Pos-Txp.html#t:ToilVerFailure">ToilVerFailure</a> m =&gt; <a href="Pos-Txp.html#t:VTxContext">VTxContext</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="Pos-Txp-Core.html#t:TxAux">TxAux</a> -&gt; m <a href="Pos-Txp-Core.html#t:TxUndo">TxUndo</a> <a href="src/Pos.Txp.Toil.Utxo.Pure.html#verifyTxUtxoPure" class="link">Source</a> <a href="#v:verifyTxUtxoPure" class="selflink">#</a></p><div class="doc"><p>Pure version of verifyTxUtxo.</p></div></div><div class="top"><p class="src"><a id="v:filterUtxoByAddr" class="def">filterUtxoByAddr</a> :: <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Address">Address</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="Pos-Txp.html#t:Utxo">Utxo</a> <a href="src/Pos.Txp.Toil.Utxo.Util.html#filterUtxoByAddr" class="link">Source</a> <a href="#v:filterUtxoByAddr" class="selflink">#</a></p><div class="doc"><p>Select only TxOuts for given addresses</p></div></div><div class="top"><p class="src"><a id="v:utxoToStakes" class="def">utxoToStakes</a> :: <a href="Pos-Txp.html#t:Utxo">Utxo</a> -&gt; <a href="http://hackage.haskell.org/package/unordered-containers-0.2.8.0/docs/Data-HashMap-Lazy.html#t:HashMap">HashMap</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a> <a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:Coin">Coin</a> <a href="src/Pos.Txp.Toil.Utxo.Util.html#utxoToStakes" class="link">Source</a> <a href="#v:utxoToStakes" class="selflink">#</a></p><div class="doc"><p>Convert <code><a href="Pos-Txp.html#t:Utxo">Utxo</a></code> to map from <code><a href="http://hackage.haskell.org/package/cryptokami-sl-core-0.4.4/docs/Pos-Core-Types.html#t:StakeholderId">StakeholderId</a></code> to stake.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>