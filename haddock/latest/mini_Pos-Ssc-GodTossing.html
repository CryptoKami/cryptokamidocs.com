<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pos.Ssc.GodTossing</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body id="mini"><div id="module-header"><p class="caption">Pos.Ssc.GodTossing</p></div><div id="interface"><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:BadCommAndOpening" target="main">BadCommAndOpening</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:BadCommitment" target="main">BadCommitment</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:BadSignedCommitment" target="main">BadSignedCommitment</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:CommitmentOpening" target="main">CommitmentOpening</a></p></div><h1>Helpers</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:genCommitmentAndOpening" target="main">genCommitmentAndOpening</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:isCommitmentId" target="main">isCommitmentId</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:isCommitmentIdx" target="main">isCommitmentIdx</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:isOpeningId" target="main">isOpeningId</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:isOpeningIdx" target="main">isOpeningIdx</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:isSharesId" target="main">isSharesId</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:isSharesIdx" target="main">isSharesIdx</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:mkSignedCommitment" target="main">mkSignedCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:secretToSharedSeed" target="main">secretToSharedSeed</a></p></div><h1>CommitmentsMap</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:insertSignedCommitment" target="main">insertSignedCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:deleteSignedCommitment" target="main">deleteSignedCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:diffCommMap" target="main">diffCommMap</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:intersectCommMap" target="main">intersectCommMap</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:intersectCommMapWith" target="main">intersectCommMapWith</a></p></div><h1>Verification and Checks</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:checkCertTTL" target="main">checkCertTTL</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:verifyCommitmentSignature" target="main">verifyCommitmentSignature</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:verifySignedCommitment" target="main">verifySignedCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:verifyCommitment" target="main">verifyCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:verifyOpening" target="main">verifyOpening</a></p></div><h1>Payload and proof</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:_gpCertificates" target="main">_gpCertificates</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:mkGtProof" target="main">mkGtProof</a></p></div><h1>Commitments</h1><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:Commitment" target="main">Commitment</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:CommitmentSignature" target="main">CommitmentSignature</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:SignedCommitment" target="main">SignedCommitment</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:CommitmentsMap" target="main">CommitmentsMap</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:mkCommitmentsMap" target="main">mkCommitmentsMap</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:mkCommitmentsMapUnsafe" target="main">mkCommitmentsMapUnsafe</a></p></div><h1>Openings</h1><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:Opening" target="main">Opening</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:OpeningsMap" target="main">OpeningsMap</a></p></div><h1>Shares</h1><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:InnerSharesMap" target="main">InnerSharesMap</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:SharesMap" target="main">SharesMap</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:SharesDistribution" target="main">SharesDistribution</a></p></div><h1>Vss certificates</h1><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:VssCertificate" target="main">VssCertificate</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:mkVssCertificate" target="main">mkVssCertificate</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:recreateVssCertificate" target="main">recreateVssCertificate</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:getCertId" target="main">getCertId</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:VssCertificatesMap" target="main">VssCertificatesMap</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:mkVssCertificatesMap" target="main">mkVssCertificatesMap</a></p></div><h1>Payload</h1><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtPayload" target="main">GtPayload</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtProof" target="main">GtProof</a></p></div><h1>Misc</h1><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:NodeSet" target="main">NodeSet</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:SeedError" target="main">SeedError</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:hasCommitment" target="main">hasCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:hasOpening" target="main">hasOpening</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:hasShares" target="main">hasShares</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:hasVssCertificate" target="main">hasVssCertificate</a></p></div><h1>GtPayload</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:sanityChecksGtPayload" target="main">sanityChecksGtPayload</a></p></div><h1>VSS</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:vssThreshold" target="main">vssThreshold</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:getStableCertsPure" target="main">getStableCertsPure</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:genesisCertificates" target="main">genesisCertificates</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:genesisDevVssKeyPairs" target="main">genesisDevVssKeyPairs</a></p></div><h1>'Inv|Req|Data' processing.</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:sscIsDataUseful" target="main">sscIsDataUseful</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:sscProcessCommitment" target="main">sscProcessCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:sscProcessOpening" target="main">sscProcessOpening</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:sscProcessShares" target="main">sscProcessShares</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:sscProcessCertificate" target="main">sscProcessCertificate</a></p></div><h1>Garbage collection worker</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:localOnNewSlot" target="main">localOnNewSlot</a></p></div><h1>Instances</h1><h2>instance SscLocalDataClass SscGodTossing</h2><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtLocalData" target="main">GtLocalData</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:ldModifier" target="main">ldModifier</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:ldEpoch" target="main">ldEpoch</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:getOurCommitment" target="main">getOurCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:getOurOpening" target="main">getOurOpening</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:putOurSecret" target="main">putOurSecret</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:calculateSeed" target="main">calculateSeed</a></p></div><h1>Instances</h1><h2>instance SscGStateClass SscGodTossing</h2><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:getGlobalCerts" target="main">getGlobalCerts</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:gtGetGlobalState" target="main">gtGetGlobalState</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:getStableCerts" target="main">getStableCerts</a></p></div><h1>Trivial functions</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:getCommitment" target="main">getCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:hasCommitmentToss" target="main">hasCommitmentToss</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:hasOpeningToss" target="main">hasOpeningToss</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:hasSharesToss" target="main">hasSharesToss</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:hasCertificateToss" target="main">hasCertificateToss</a></p></div><h1>Basic logic</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:getParticipants" target="main">getParticipants</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:computeParticipants" target="main">computeParticipants</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:computeSharesDistr" target="main">computeSharesDistr</a></p></div><h1>Payload processing</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:checkCommitmentsPayload" target="main">checkCommitmentsPayload</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:checkOpeningsPayload" target="main">checkOpeningsPayload</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:checkSharesPayload" target="main">checkSharesPayload</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:checkCertificatesPayload" target="main">checkCertificatesPayload</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:checkPayload" target="main">checkPayload</a></p></div><h1>Helpers</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:verifyEntriesGuardM" target="main">verifyEntriesGuardM</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Pos-Ssc-GodTossing.html#t:MonadTossRead" target="main">MonadTossRead</a> m</p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Pos-Ssc-GodTossing.html#t:MonadToss" target="main">MonadToss</a> m</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:TossVerFailure" target="main">TossVerFailure</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:verifyAndApplyGtPayload" target="main">verifyAndApplyGtPayload</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:applyGenesisBlock" target="main">applyGenesisBlock</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:rollbackGT" target="main">rollbackGT</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:normalizeToss" target="main">normalizeToss</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:PureToss" target="main">PureToss</a> a</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:MultiRichmenStake" target="main">MultiRichmenStake</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:MultiRichmenSet" target="main">MultiRichmenSet</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:runPureToss" target="main">runPureToss</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:runPureTossWithLogger" target="main">runPureTossWithLogger</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:evalPureTossWithLogger" target="main">evalPureTossWithLogger</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:execPureTossWithLogger" target="main">execPureTossWithLogger</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a href="Pos-Ssc-GodTossing.html#t:TossT" target="main">TossT</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:runTossT" target="main">runTossT</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:evalTossT" target="main">evalTossT</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:execTossT" target="main">execTossT</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtTag" target="main">GtTag</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:isGoodSlotForTag" target="main">isGoodSlotForTag</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:isGoodSlotIdForTag" target="main">isGoodSlotIdForTag</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:TossModifier" target="main">TossModifier</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:tmCommitments" target="main">tmCommitments</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:tmOpenings" target="main">tmOpenings</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:tmShares" target="main">tmShares</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:tmCertificates" target="main">tmCertificates</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:SscGodTossing" target="main">SscGodTossing</a></p></div><h1>Instances</h1><h2>instance Ssc SscGodTossing</h2><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtTag" target="main">GtTag</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtMsgContents" target="main">GtMsgContents</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:msgContentsTag" target="main">msgContentsTag</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:_MCCommitment" target="main">_MCCommitment</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:_MCOpening" target="main">_MCOpening</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:_MCShares" target="main">_MCShares</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:_MCVssCertificate" target="main">_MCVssCertificate</a></p></div><h1>Instance types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtGlobalState" target="main">GtGlobalState</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtContext" target="main">GtContext</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtParams" target="main">GtParams</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:GtSecretStorage" target="main">GtSecretStorage</a></p></div><h1>Lenses</h1><h2>GtPayload</h2><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:gsCommitments" target="main">gsCommitments</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:gsOpenings" target="main">gsOpenings</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:gsShares" target="main">gsShares</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:gsVssCertificates" target="main">gsVssCertificates</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:createGtContext" target="main">createGtContext</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a href="Pos-Ssc-GodTossing.html#t:VssCertData" target="main">VssCertData</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:empty" target="main">empty</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:insert" target="main">insert</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:lookup" target="main">lookup</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:lookupExpiryEpoch" target="main">lookupExpiryEpoch</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:setLastKnownSlot" target="main">setLastKnownSlot</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:setLastKnownEoS" target="main">setLastKnownEoS</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:keys" target="main">keys</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:member" target="main">member</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:expiryEpoch" target="main">expiryEpoch</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:expiryEoS" target="main">expiryEoS</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:fromList" target="main">fromList</a></p></div><h1>Functions which delete certificates. Be careful</h1><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:delete" target="main">delete</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:difference" target="main">difference</a></p></div><div class="top"><p class="src"><a href="Pos-Ssc-GodTossing.html#v:filter" target="main">filter</a></p></div></div></body></html>