{"swagger":"2.0","info":{"version":"1.0.3","title":"Cryptokami SL Wallet Web API","description":"This is an API for Cryptokami SL wallet."},"host":"localhost:8090","paths":{"/api/test/reset":{"post":{"description":"Delete all secret keys. It works in development mode only, returns HTTP 403 otherwise.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"items":[],"type":"array"},"description":""}}}},"/api/test/state":{"get":{"description":"Print wallet state as JSON","produces":["application/octet-stream"],"responses":{"200":{"schema":{"$ref":"#/definitions/WalletStateSnapshot"},"description":""}}}},"/api/wallets/{walletId}":{"get":{"description":"Get information about a wallet by its ID (address).","produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"in":"path","name":"walletId","type":"string"}],"responses":{"404":{"description":"`walletId` not found"},"200":{"schema":{"$ref":"#/definitions/CWallet"},"description":""}}},"put":{"description":"Update wallet's meta information.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"in":"path","name":"walletId","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CWalletMeta"},"in":"body","name":"body"}],"responses":{"404":{"description":"`walletId` not found"},"400":{"description":"Invalid `body`"},"200":{"schema":{"$ref":"#/definitions/CWallet"},"description":""}}},"delete":{"description":"Delete given wallet with all contained accounts.","produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"in":"path","name":"walletId","type":"string"}],"responses":{"404":{"description":"`walletId` not found"},"200":{"schema":{"items":[],"type":"array"},"description":""}}}},"/api/wallets":{"get":{"description":"Get information about all available wallets.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"items":{"$ref":"#/definitions/CWallet"},"type":"array"},"description":""}}}},"/api/wallets/new":{"post":{"description":"Create a new wallet.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"passphrase","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CWalletInit"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body` or `passphrase`"},"200":{"schema":{"$ref":"#/definitions/CWallet"},"description":""}}}},"/api/wallets/restore":{"post":{"description":"Create a new wallet.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"passphrase","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CWalletInit"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body` or `passphrase`"},"200":{"schema":{"$ref":"#/definitions/CWallet"},"description":""}}}},"/api/wallets/keys":{"post":{"description":"Import user's secret key from the path to generate wallet.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"passphrase","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CFilePath"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body` or `passphrase`"},"200":{"schema":{"$ref":"#/definitions/CWallet"},"description":""}}}},"/api/wallets/password/{walletId}":{"post":{"description":"Change passphrase of given wallet.","produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"in":"path","name":"walletId","type":"string"},{"in":"query","name":"old","type":"string"},{"in":"query","name":"new","type":"string"}],"responses":{"404":{"description":"`walletId` not found"},"400":{"description":"Invalid `new` or `old`"},"200":{"schema":{"items":[],"type":"array"},"description":""}}}},"/api/accounts/{accountId}":{"get":{"description":"Get information about a account by account's ID (address + index of account in wallet).","produces":["application/json;charset=utf-8"],"parameters":[{"format":"walletSetAddress@walletKeyIndex","required":true,"in":"path","name":"accountId","type":"string"}],"responses":{"404":{"description":"`accountId` not found"},"200":{"schema":{"$ref":"#/definitions/CAccount"},"description":""}}},"put":{"description":"Update account's meta information.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"format":"walletSetAddress@walletKeyIndex","required":true,"in":"path","name":"accountId","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CAccountMeta"},"in":"body","name":"body"}],"responses":{"404":{"description":"`accountId` not found"},"400":{"description":"Invalid `body`"},"200":{"schema":{"$ref":"#/definitions/CAccount"},"description":""}}},"delete":{"description":"Delete a account by account's ID (address + index of account in wallet).","produces":["application/json;charset=utf-8"],"parameters":[{"format":"walletSetAddress@walletKeyIndex","required":true,"in":"path","name":"accountId","type":"string"}],"responses":{"404":{"description":"`accountId` not found"},"200":{"schema":{"items":[],"type":"array"},"description":""}}}},"/api/accounts":{"get":{"description":"Get information about all available accounts.","produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"accountId","type":"string"}],"responses":{"400":{"description":"Invalid `accountId`"},"200":{"schema":{"items":{"$ref":"#/definitions/CAccount"},"type":"array"},"description":""}}},"post":{"description":"Create a new account in given wallet.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"passphrase","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CAccountInit"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body` or `passphrase`"},"200":{"schema":{"$ref":"#/definitions/CAccount"},"description":""}}}},"/api/addresses":{"post":{"description":"Create a new address in given account.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"passphrase","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CAccountId"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body` or `passphrase`"},"200":{"schema":{"$ref":"#/definitions/CAddress"},"description":""}}}},"/api/addresses/{address}":{"get":{"description":"Returns True if given address is valid, False otherwise.","produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"in":"path","name":"address","type":"string"}],"responses":{"404":{"description":"`address` not found"},"200":{"schema":{"type":"boolean"},"description":""}}}},"/api/profile":{"get":{"description":"Get user profile's meta data.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"$ref":"#/definitions/CProfile"},"description":""}}},"post":{"description":"Update user profile.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"schema":{"$ref":"#/definitions/CProfile"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body`"},"200":{"schema":{"$ref":"#/definitions/CProfile"},"description":""}}}},"/api/txs/payments/{from}/{to}/{amount}":{"post":{"description":"Create a new payment transaction.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"passphrase","type":"string"},{"format":"walletSetAddress@walletKeyIndex","required":true,"in":"path","name":"from","type":"string"},{"required":true,"in":"path","name":"to","type":"string"},{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"amount","type":"integer"},{"required":true,"schema":{"$ref":"#/definitions/InputSelectionPolicy"},"in":"body","name":"body"}],"responses":{"404":{"description":"`from` or `to` or `amount` not found"},"400":{"description":"Invalid `body` or `passphrase`"},"200":{"schema":{"$ref":"#/definitions/CTx"},"description":""}}}},"/api/txs/fee/{from}/{to}/{amount}":{"post":{"description":"Estimate fees for performing given transaction. Transaction will not be created.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"format":"walletSetAddress@walletKeyIndex","required":true,"in":"path","name":"from","type":"string"},{"required":true,"in":"path","name":"to","type":"string"},{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"amount","type":"integer"},{"required":true,"schema":{"$ref":"#/definitions/InputSelectionPolicy"},"in":"body","name":"body"}],"responses":{"404":{"description":"`from` or `to` or `amount` not found"},"400":{"description":"Invalid `body`"},"200":{"schema":{"$ref":"#/definitions/CCoin"},"description":""}}}},"/api/txs/payments/{address}/{transaction}":{"post":{"description":"Update payment transaction.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"format":"walletSetAddress@walletKeyIndex","required":true,"in":"path","name":"address","type":"string"},{"required":true,"in":"path","name":"transaction","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CTxMeta"},"in":"body","name":"body"}],"responses":{"404":{"description":"`address` or `transaction` not found"},"400":{"description":"Invalid `body`"},"200":{"schema":{"items":[],"type":"array"},"description":""}}}},"/api/txs/histories":{"get":{"description":"Get the history of transactions.","produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"walletId","type":"string"},{"format":"walletSetAddress@walletKeyIndex","in":"query","name":"accountId","type":"string"},{"in":"query","name":"address","type":"string"},{"maximum":18446744073709551615,"minimum":0,"in":"query","name":"skip","type":"integer"},{"maximum":18446744073709551615,"minimum":0,"in":"query","name":"limit","type":"integer"}],"responses":{"400":{"description":"Invalid `limit` or `skip` or `address` or `accountId` or `walletId`"},"200":{"schema":{"minItems":2,"items":[{"items":{"$ref":"#/definitions/CTx"},"type":"array"},{"maximum":18446744073709551615,"minimum":0,"type":"integer"}],"maxItems":2,"type":"array"},"description":""}}}},"/api/update":{"get":{"description":"Get information about the next update.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"$ref":"#/definitions/CUpdateInfo"},"description":""}}}},"/api/update/postpone":{"post":{"description":"Postpone last update.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"items":[],"type":"array"},"description":""}}}},"/api/update/apply":{"post":{"description":"Apply last update.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"items":[],"type":"array"},"description":""}}}},"/api/redemptions/ada":{"post":{"description":"Redeem ADA.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"passphrase","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CWalletRedeem"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body` or `passphrase`"},"200":{"schema":{"$ref":"#/definitions/CTx"},"description":""}}}},"/api/papervend/redemptions/ada":{"post":{"description":"Redeem ADA, paper vending.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"in":"query","name":"passphrase","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CPaperVendWalletRedeem"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body` or `passphrase`"},"200":{"schema":{"$ref":"#/definitions/CTx"},"description":""}}}},"/api/reporting/initialized":{"post":{"description":"Send node's report on initialization time.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"schema":{"$ref":"#/definitions/CInitialized"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body`"},"200":{"schema":{"items":[],"type":"array"},"description":""}}}},"/api/settings/slots/duration":{"get":{"description":"Get blockchain slot duration in milliseconds.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"description":""}}}},"/api/settings/version":{"get":{"description":"Get current version of the node.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"$ref":"#/definitions/SoftwareVersion"},"description":""}}}},"/api/settings/sync/progress":{"get":{"description":"Sync progress, with info about local chain difficulty,network chain difficulty and connected peers.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"$ref":"#/definitions/SyncProgress"},"description":""}}}},"/api/backup/import":{"post":{"description":"Import full information about wallet from a given file.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"schema":{"$ref":"#/definitions/CFilePath"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body`"},"200":{"schema":{"$ref":"#/definitions/CWallet"},"description":""}}}},"/api/backup/export/{walletId}":{"post":{"description":"Export full information about wallet in JSON format into a file under given path. Wallet may be later restored from this file with 'ImportBackupJSON' endpoint.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"in":"path","name":"walletId","type":"string"},{"required":true,"schema":{"$ref":"#/definitions/CFilePath"},"in":"body","name":"body"}],"responses":{"404":{"description":"`walletId` not found"},"400":{"description":"Invalid `body`"},"200":{"schema":{"items":[],"type":"array"},"description":""}}}},"/api/info":{"get":{"description":"Get general information about this service.","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"$ref":"#/definitions/ClientInfo"},"description":""}}}}},"definitions":{"WalletStateSnapshot":{"type":"string"},"CWallet":{"required":["cwId","cwMeta","cwAccountsNumber","cwAmount","cwHasPassphrase","cwPassphraseLU"],"properties":{"cwId":{"$ref":"#/definitions/CId"},"cwMeta":{"$ref":"#/definitions/CWalletMeta"},"cwAccountsNumber":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"cwAmount":{"$ref":"#/definitions/CCoin"},"cwHasPassphrase":{"type":"boolean"},"cwPassphraseLU":{"type":"integer"}},"type":"object"},"CId":{"type":"string"},"CWalletMeta":{"required":["cwName","cwAssurance","cwUnit"],"properties":{"cwName":{"type":"string"},"cwAssurance":{"$ref":"#/definitions/CWalletAssurance"},"cwUnit":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"}},"type":"object"},"CWalletAssurance":{"type":"string","enum":["CWAStrict","CWANormal"]},"CCoin":{"required":["getCCoin"],"properties":{"getCCoin":{"type":"string"}},"type":"object"},"CWalletInit":{"required":["cwInitMeta","cwBackupPhrase"],"properties":{"cwInitMeta":{"$ref":"#/definitions/CWalletMeta"},"cwBackupPhrase":{"$ref":"#/definitions/BackupPhrase"}},"type":"object"},"BackupPhrase":{"required":["bpToList"],"properties":{"bpToList":{"items":{"type":"string"},"type":"array"}},"type":"object"},"CFilePath":{"type":"string"},"CAccount":{"required":["caId","caMeta","caAddresses","caAmount"],"properties":{"caId":{"$ref":"#/definitions/CAccountId"},"caMeta":{"$ref":"#/definitions/CAccountMeta"},"caAddresses":{"items":{"$ref":"#/definitions/CAddress"},"type":"array"},"caAmount":{"$ref":"#/definitions/CCoin"}},"type":"object"},"CAccountId":{"type":"string"},"CAccountMeta":{"required":["caName"],"properties":{"caName":{"type":"string"}},"type":"object"},"CAddress":{"required":["cadId","cadAmount","cadIsUsed","cadIsChange"],"properties":{"cadId":{"$ref":"#/definitions/CId"},"cadAmount":{"$ref":"#/definitions/CCoin"},"cadIsUsed":{"type":"boolean"},"cadIsChange":{"type":"boolean"}},"type":"object"},"CAccountInit":{"required":["caInitMeta","caInitWId"],"properties":{"caInitMeta":{"$ref":"#/definitions/CAccountMeta"},"caInitWId":{"$ref":"#/definitions/CId"}},"type":"object"},"CProfile":{"required":["cpLocale"],"properties":{"cpLocale":{"type":"string"}},"type":"object"},"CTx":{"required":["ctId","ctAmount","ctConfirmations","ctMeta","ctInputs","ctOutputs","ctIsLocal","ctIsOutgoing","ctCondition"],"properties":{"ctId":{"$ref":"#/definitions/CTxId"},"ctAmount":{"$ref":"#/definitions/CCoin"},"ctConfirmations":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"ctMeta":{"$ref":"#/definitions/CTxMeta"},"ctInputs":{"items":{"minItems":2,"items":[{"$ref":"#/definitions/CId"},{"$ref":"#/definitions/CCoin"}],"maxItems":2,"type":"array"},"type":"array"},"ctOutputs":{"items":{"minItems":2,"items":[{"$ref":"#/definitions/CId"},{"$ref":"#/definitions/CCoin"}],"maxItems":2,"type":"array"},"type":"array"},"ctIsLocal":{"type":"boolean"},"ctIsOutgoing":{"type":"boolean"},"ctCondition":{"$ref":"#/definitions/CPtxCondition"}},"type":"object"},"CTxId":{"type":"string"},"CTxMeta":{"required":["ctmDate"],"properties":{"ctmDate":{"type":"integer"}},"type":"object"},"CPtxCondition":{"type":"string","enum":["CPtxApplying","CPtxInBlocks","CPtxWontApply","CPtxNotTracked"]},"InputSelectionPolicy":{"type":"string","enum":["OptimizeForSecurity","OptimizeForSize"]},"CUpdateInfo":{"required":["cuiSoftwareVersion","cuiBlockVesion","cuiScriptVersion","cuiImplicit","cuiVotesFor","cuiVotesAgainst","cuiPositiveStake","cuiNegativeStake"],"properties":{"cuiSoftwareVersion":{"$ref":"#/definitions/SoftwareVersion"},"cuiBlockVesion":{"$ref":"#/definitions/BlockVersion"},"cuiScriptVersion":{"maximum":65535,"minimum":0,"type":"integer"},"cuiImplicit":{"type":"boolean"},"cuiVotesFor":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"cuiVotesAgainst":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"cuiPositiveStake":{"$ref":"#/definitions/CCoin"},"cuiNegativeStake":{"$ref":"#/definitions/CCoin"}},"type":"object"},"SoftwareVersion":{"required":["svAppName","svNumber"],"properties":{"svAppName":{"$ref":"#/definitions/ApplicationName"},"svNumber":{"maximum":4294967295,"minimum":0,"type":"integer"}},"type":"object"},"ApplicationName":{"required":["getApplicationName"],"properties":{"getApplicationName":{"type":"string"}},"type":"object"},"BlockVersion":{"required":["bvMajor","bvMinor","bvAlt"],"properties":{"bvMajor":{"maximum":65535,"minimum":0,"type":"integer"},"bvMinor":{"maximum":65535,"minimum":0,"type":"integer"},"bvAlt":{"maximum":255,"minimum":0,"type":"integer"}},"type":"object"},"CWalletRedeem":{"required":["crWalletId","crSeed"],"properties":{"crWalletId":{"$ref":"#/definitions/CAccountId"},"crSeed":{"type":"string"}},"type":"object"},"CPaperVendWalletRedeem":{"required":["pvWalletId","pvSeed","pvBackupPhrase"],"properties":{"pvWalletId":{"$ref":"#/definitions/CAccountId"},"pvSeed":{"type":"string"},"pvBackupPhrase":{"$ref":"#/definitions/BackupPhrase"}},"type":"object"},"CInitialized":{"required":["cTotalTime","cPreInit"],"properties":{"cTotalTime":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"cPreInit":{"maximum":18446744073709551615,"minimum":0,"type":"integer"}},"type":"object"},"SyncProgress":{"required":["_spLocalCD","_spPeers"],"properties":{"_spLocalCD":{"$ref":"#/definitions/ChainDifficulty"},"_spNetworkCD":{"$ref":"#/definitions/ChainDifficulty"},"_spPeers":{"maximum":18446744073709551615,"minimum":0,"type":"integer"}},"type":"object"},"ChainDifficulty":{"required":["getChainDifficulty"],"properties":{"getChainDifficulty":{"$ref":"#/definitions/BlockCount"}},"type":"object"},"BlockCount":{"required":["getBlockCount"],"properties":{"getBlockCount":{"maximum":18446744073709551615,"minimum":0,"type":"integer"}},"type":"object"},"ClientInfo":{"required":["ciApiVersion","ciSoftwareVersion","ciCabalVersion","ciGitRevision"],"properties":{"ciApiVersion":{"$ref":"#/definitions/ApiVersion"},"ciSoftwareVersion":{"$ref":"#/definitions/SoftwareVersion"},"ciCabalVersion":{"$ref":"#/definitions/Version"},"ciGitRevision":{"type":"string"}},"type":"object"},"ApiVersion":{"type":"string","enum":["ApiVersion0"]},"Version":{"required":["versionBranch","versionTags"],"properties":{"versionBranch":{"items":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"type":"array"},"versionTags":{"items":{"type":"string"},"type":"array"}},"type":"object"}}}